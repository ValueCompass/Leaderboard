import{b as xe,d as Ne,t as Ae,u as Ce,a as qe,_ as Ge,c as ta,e as la,f as oa,g as sa,h as na,p as ra,U as We,i as Ie,j as ia,k as Ue,w as ca,l as ua}from"./base-DPKDEEer.js";import{e as be,a as _e,E as da,c as va,g as he,m as pa,b as _a,d as ma}from"./common-Bpooejqc.js";import{E as fa,a as ha}from"./el-popover-BpPnLHT-.js";import{f as ae,d as ba,E as ya,a as ga,b as xa,c as Ca,g as wa,h as Sa,e as ka}from"./el-select-pUwP7Bi1.js";import{E as Me,G as Ve,H as $a,I as ce,J as De,r,s as se,g as Q,o as w,c as M,n as Pe,u as H,K as Oe,L as we,B as me,x as fe,m as Ta,d as m,q as Ea,M as Fe,N as Ma,O as za,a as Ze,D as Je,e as K,v as G,j as ie,b as a,_ as Se,F as j,f as q,t as U,p as Be,k as He,w as B,h as ee,i as te}from"./index-Bhyf431A.js";import{i as Le}from"./index-DNSscJ2R.js";import"./linesGL-CN2UtC-e.js";import{m as Xe,E as ye}from"./el-input-DRVURXt8.js";const ge=t=>{const v=Me(t)?t:[t],f=[];return v.forEach(u=>{var p;Me(u)?f.push(...ge(u)):Ve(u)&&Me(u.children)?f.push(...ge(u.children)):(f.push(u),Ve(u)&&((p=u.component)!=null&&p.subTree)&&f.push(...ge(u.component.subTree)))}),f},Ra=(t,v,f)=>ge(t.subTree).filter(e=>{var c;return Ve(e)&&((c=e.type)==null?void 0:c.name)===v&&!!e.component}).map(e=>e.component.uid).map(e=>f[e]).filter(e=>!!e),Va=(t,v)=>{const f={},u=$a([]);return{children:u,addChild:c=>{f[c.uid]=c,u.value=Ra(t,v,f)},removeChild:c=>{delete f[c],u.value=u.value.filter(y=>y.uid!==c)}}},ke=Symbol("tabsRootContextKey"),Fa=xe({tabs:{type:Ne(Array),default:()=>Xe([])}}),Ye="ElTabBar",Na=ce({name:Ye}),Aa=ce({...Na,props:Fa,setup(t,{expose:v}){const f=t,u=we(),p=De(ke);p||Ae(Ye,"<el-tabs><el-tab-bar /></el-tabs>");const e=Ce("tabs"),c=r(),y=r(),i=()=>{let n=0,o=0;const d=["top","bottom"].includes(p.props.tabPosition)?"width":"height",h=d==="width"?"x":"y",R=h==="x"?"left":"top";return f.tabs.every(T=>{var _,g;const C=(g=(_=u.parent)==null?void 0:_.refs)==null?void 0:g[`tab-${T.uid}`];if(!C)return!1;if(!T.active)return!0;n=C[`offset${ae(R)}`],o=C[`client${ae(d)}`];const k=window.getComputedStyle(C);return d==="width"&&(o-=Number.parseFloat(k.paddingLeft)+Number.parseFloat(k.paddingRight),n+=Number.parseFloat(k.paddingLeft)),!1}),{[d]:`${o}px`,transform:`translate${ae(h)}(${n}px)`}},l=()=>y.value=i();return se(()=>f.tabs,async()=>{await Q(),l()},{immediate:!0}),qe(c,()=>l()),v({ref:c,update:l}),(n,o)=>(w(),M("div",{ref_key:"barRef",ref:c,class:Pe([H(e).e("active-bar"),H(e).is(H(p).props.tabPosition)]),style:Oe(y.value)},null,6))}});var Da=Ge(Aa,[["__file","tab-bar.vue"]]);const Pa=xe({panes:{type:Ne(Array),default:()=>Xe([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Oa={tabClick:(t,v,f)=>f instanceof Event,tabRemove:(t,v)=>v instanceof Event},Ke="ElTabNav",Ba=ce({name:Ke,props:Pa,emits:Oa,setup(t,{expose:v,emit:f}){const u=we(),p=De(ke);p||Ae(Ke,"<el-tabs><tab-nav /></el-tabs>");const e=Ce("tabs"),c=ta(),y=la(),i=r(),l=r(),n=r(),o=r(),d=r(!1),h=r(0),R=r(!1),T=r(!0),_=me(()=>["top","bottom"].includes(p.props.tabPosition)?"width":"height"),g=me(()=>({transform:`translate${_.value==="width"?"X":"Y"}(-${h.value}px)`})),C=()=>{if(!i.value)return;const S=i.value[`offset${ae(_.value)}`],s=h.value;if(!s)return;const x=s>S?s-S:0;h.value=x},k=()=>{if(!i.value||!l.value)return;const S=l.value[`offset${ae(_.value)}`],s=i.value[`offset${ae(_.value)}`],x=h.value;if(S-x<=s)return;const D=S-x>s*2?x+s:S-s;h.value=D},z=async()=>{const S=l.value;if(!d.value||!n.value||!i.value||!S)return;await Q();const s=n.value.querySelector(".is-active");if(!s)return;const x=i.value,D=["top","bottom"].includes(p.props.tabPosition),A=s.getBoundingClientRect(),V=x.getBoundingClientRect(),L=D?S.offsetWidth-V.width:S.offsetHeight-V.height,O=h.value;let F=O;D?(A.left<V.left&&(F=O-(V.left-A.left)),A.right>V.right&&(F=O+A.right-V.right)):(A.top<V.top&&(F=O-(V.top-A.top)),A.bottom>V.bottom&&(F=O+(A.bottom-V.bottom))),F=Math.max(F,0),h.value=Math.min(F,L)},W=()=>{var S;if(!l.value||!i.value)return;t.stretch&&((S=o.value)==null||S.update());const s=l.value[`offset${ae(_.value)}`],x=i.value[`offset${ae(_.value)}`],D=h.value;x<s?(d.value=d.value||{},d.value.prev=D,d.value.next=D+x<s,s-D<x&&(h.value=s-x)):(d.value=!1,D>0&&(h.value=0))},I=S=>{const s=S.code,{up:x,down:D,left:A,right:V}=be;if(![x,D,A,V].includes(s))return;const L=Array.from(S.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),O=L.indexOf(S.target);let F;s===A||s===x?O===0?F=L.length-1:F=O-1:O<L.length-1?F=O+1:F=0,L[F].focus({preventScroll:!0}),L[F].click(),ne()},ne=()=>{T.value&&(R.value=!0)},J=()=>R.value=!1;return se(c,S=>{S==="hidden"?T.value=!1:S==="visible"&&setTimeout(()=>T.value=!0,50)}),se(y,S=>{S?setTimeout(()=>T.value=!0,50):T.value=!1}),qe(n,W),fe(()=>setTimeout(()=>z(),0)),Ta(()=>W()),v({scrollToActiveTab:z,removeFocus:J}),se(()=>t.panes,()=>u.update(),{flush:"post",deep:!0}),()=>{const S=d.value?[m("span",{class:[e.e("nav-prev"),e.is("disabled",!d.value.prev)],onClick:C},[m(ye,null,{default:()=>[m(oa,null,null)]})]),m("span",{class:[e.e("nav-next"),e.is("disabled",!d.value.next)],onClick:k},[m(ye,null,{default:()=>[m(sa,null,null)]})])]:null,s=t.panes.map((x,D)=>{var A,V,L,O;const F=x.uid,le=x.props.disabled,de=(V=(A=x.props.name)!=null?A:x.index)!=null?V:`${D}`,re=!le&&(x.isClosable||t.editable);x.index=`${D}`;const Te=re?m(ye,{class:"is-icon-close",onClick:P=>f("tabRemove",x,P)},{default:()=>[m(na,null,null)]}):null,E=((O=(L=x.slots).label)==null?void 0:O.call(L))||x.props.label,b=!le&&x.active?0:-1;return m("div",{ref:`tab-${F}`,class:[e.e("item"),e.is(p.props.tabPosition),e.is("active",x.active),e.is("disabled",le),e.is("closable",re),e.is("focus",R.value)],id:`tab-${de}`,key:`tab-${F}`,"aria-controls":`pane-${de}`,role:"tab","aria-selected":x.active,tabindex:b,onFocus:()=>ne(),onBlur:()=>J(),onClick:P=>{J(),f("tabClick",x,de,P)},onKeydown:P=>{re&&(P.code===be.delete||P.code===be.backspace)&&f("tabRemove",x,P)}},[E,Te])});return m("div",{ref:n,class:[e.e("nav-wrap"),e.is("scrollable",!!d.value),e.is(p.props.tabPosition)]},[S,m("div",{class:e.e("nav-scroll"),ref:i},[m("div",{class:[e.e("nav"),e.is(p.props.tabPosition),e.is("stretch",t.stretch&&["top","bottom"].includes(p.props.tabPosition))],ref:l,style:g.value,role:"tablist",onKeydown:I},[t.type?null:m(Da,{ref:o,tabs:[...t.panes]},null),s])])])}}}),Ha=xe({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ne(Function),default:()=>!0},stretch:Boolean}),ze=t=>Ma(t)||ia(t),La={[We]:t=>ze(t),tabClick:(t,v)=>v instanceof Event,tabChange:t=>ze(t),edit:(t,v)=>["remove","add"].includes(v),tabRemove:t=>ze(t),tabAdd:()=>!0},ja=ce({name:"ElTabs",props:Ha,emits:La,setup(t,{emit:v,slots:f,expose:u}){var p;const e=Ce("tabs"),c=me(()=>["left","right"].includes(t.tabPosition)),{children:y,addChild:i,removeChild:l}=Va(we(),"ElTabPane"),n=r(),o=r((p=t.modelValue)!=null?p:"0"),d=async(_,g=!1)=>{var C,k,z;if(!(o.value===_||Ie(_)))try{await((C=t.beforeLeave)==null?void 0:C.call(t,_,o.value))!==!1&&(o.value=_,g&&(v(We,_),v("tabChange",_)),(z=(k=n.value)==null?void 0:k.removeFocus)==null||z.call(k))}catch{}},h=(_,g,C)=>{_.props.disabled||(d(g,!0),v("tabClick",_,C))},R=(_,g)=>{_.props.disabled||Ie(_.props.name)||(g.stopPropagation(),v("edit",_.props.name,"remove"),v("tabRemove",_.props.name))},T=()=>{v("edit",void 0,"add"),v("tabAdd")};return se(()=>t.modelValue,_=>d(_)),se(o,async()=>{var _;await Q(),(_=n.value)==null||_.scrollToActiveTab()}),Ea(ke,{props:t,currentName:o,registerPane:i,unregisterPane:l}),u({currentName:o}),()=>{const _=f["add-icon"],g=t.editable||t.addable?m("div",{class:[e.e("new-tab"),c.value&&e.e("new-tab-vertical")],tabindex:"0",onClick:T,onKeydown:z=>{z.code===be.enter&&T()}},[_?Fe(f,"add-icon"):m(ye,{class:e.is("icon-plus")},{default:()=>[m(ra,null,null)]})]):null,C=m("div",{class:[e.e("header"),c.value&&e.e("header-vertical"),e.is(t.tabPosition)]},[m(Ba,{ref:n,currentName:o.value,editable:t.editable,type:t.type,panes:y.value,stretch:t.stretch,onTabClick:h,onTabRemove:R},null),g]),k=m("div",{class:e.e("content")},[Fe(f,"default")]);return m("div",{class:[e.b(),e.m(t.tabPosition),{[e.m("card")]:t.type==="card",[e.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[C,k]:[k,C]])}}}),Ia=xe({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ua=["id","aria-hidden","aria-labelledby"],Qe="ElTabPane",Ka=ce({name:Qe}),qa=ce({...Ka,props:Ia,setup(t){const v=t,f=we(),u=za(),p=De(ke);p||Ae(Qe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const e=Ce("tab-pane"),c=r(),y=me(()=>v.closable||p.props.closable),i=Ue(()=>{var h;return p.currentName.value===((h=v.name)!=null?h:c.value)}),l=r(i.value),n=me(()=>{var h;return(h=v.name)!=null?h:c.value}),o=Ue(()=>!v.lazy||l.value||i.value);se(i,h=>{h&&(l.value=!0)});const d=Ze({uid:f.uid,slots:u,props:v,paneName:n,active:i,index:c,isClosable:y});return fe(()=>{p.registerPane(d)}),Je(()=>{p.unregisterPane(d.uid)}),(h,R)=>H(o)?K((w(),M("div",{key:0,id:`pane-${H(n)}`,class:Pe(H(e).b()),role:"tabpanel","aria-hidden":!H(i),"aria-labelledby":`tab-${H(n)}`},[Fe(h.$slots,"default")],10,Ua)),[[G,H(i)]]):ie("v-if",!0)}});var ea=Ge(qa,[["__file","tab-pane.vue"]]);const Ga=ca(ja,{TabPane:ea}),Wa=ua(ea),Za="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",Ja={class:""},Re={__name:"echart",setup(t,{expose:v}){const f=r(null);let u=null;return v({setRadarChart:(e,c,y)=>{let i=[];y?i=y:i=Object.keys(e[0][c]);let l=i.filter(o=>o!="model_name").map((o,d)=>({name:o,color:(d==0,"#000"),axisLabel:{show:d==0},min:-1,max:1})),n=[];for(let o=0;o<e.length;o++){let d=[];for(let h=0;h<l.length;h++)d.push(e[o][c][l[h].name]);n.push({value:d,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:e[o].color},itemStyle:{color:e[o].color}})}u.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black"},triggerEvent:!0,indicator:l},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:n}]})}}),fe(async()=>{await Q(),u=Le(f.value);const e={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};u.setOption(e)}),(e,c)=>(w(),M("div",null,[a("div",Ja,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:f,style:{width:"880px",height:"600px",margin:"0 auto"}},null,512)])])])]))}},$e=t=>(Be("data-v-da66e9c4"),t=t(),He(),t),Xa={class:""},Ya={class:"model-title"},Qa={class:"echart-list"},et=$e(()=>a("p",null,"Schwartz Theory of Basic Values",-1)),at=$e(()=>a("p",null,"Moral Foundation Theory",-1)),tt=$e(()=>a("p",null,"Diverse Safety Risks",-1)),lt=$e(()=>a("p",null,"LLM Value System",-1)),ot={__name:"Visualization",setup(t,{expose:v}){const f=r(null),u=r(null),p=r(null),e=r(null),c=r(null);return v({setRadarChart:(i,l)=>{c.value=i,f.value.setRadarChart(i,"Schwartz_data",l?l.Schwartz_data:null),u.value.setRadarChart(i,"MFT_data",l?l.MFT_data:null),p.value.setRadarChart(i,"Risk_data",l?l.Risk_data:null)}}),(i,l)=>(w(),M("div",null,[a("div",Xa,[a("div",Ya,[(w(!0),M(j,null,q(c.value,(n,o)=>(w(),M("div",{key:o},[a("span",{style:Oe([{"background-color":n.color},{}])},null,4),a("span",null,U(n.model_name),1)]))),128))]),a("div",Qa,[a("div",null,[et,m(Re,{ref_key:"chartDom1",ref:f},null,512)]),a("div",null,[at,m(Re,{ref_key:"chartDom2",ref:u},null,512)]),a("div",null,[tt,m(Re,{ref_key:"chartDom3",ref:p},null,512)]),a("div",null,[lt,a("div",{class:"chart",ref_key:"chartDom4",ref:e,style:{width:"500px",height:"500px"}},null,512)])])])]))}},st=Se(ot,[["__scopeId","data-v-da66e9c4"]]),nt={class:"chart-box"},rt={class:"result-main"},it={class:"chart-main"},ct={class:"card-item"},ut={__name:"ValueSpace",setup(t){var v=null,f=["#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361"];function u(c){console.log(c),e=Le(p.value);const y="path://M1 11C6.52285 11 11 6.52285 11 1H13C13 6.52285 17.4772 11 23 11V13C17.4772 13 13 17.4772 13 23H11C11 17.4772 6.52285 13 1 13V11Z",i=[{type:"scatter3D",data:c.model,symbolSize:24,symbol:y,itemStyle:{opacity:1},label:{show:!0,formatter:"{b}",textStyle:{color:"rgba(47, 47, 47, 1)",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}];c.model.forEach((o,d)=>{const h=c.node.slice(d*30,d*30+30);i.push({name:o.name,type:"scatter3D",data:h,symbolSize:8,symbol:y,label:{show:!1,formatter:""},itemStyle:{color:f[d],opacity:1}})}),v=Object.assign([],i);const l={legend:{show:!0,width:"1100",textStyle:{color:"rgba(47, 47, 47, 1)"}},tooltip:{appendToBody:!0,className:"tooltip",hideDelay:1e3,enterable:!0,triggerOn:"click",backgroundColor:"#0A111F",borderColor:"#0A111F",textStyle:{color:"#fff"},formatter:function(o){return o.data.type=="node"?`<div style="padding: 6px 28px;">
                  <pre style="text-align: left; white-space: pre-line;">${o.data.name}</pre>
                </div>`:""}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{axisLine:{lineStyle:{color:"rgba(0,0,0,0.1)"}},axisPointer:{show:!1},splitLine:{lineStyle:{color:"rgba(0,0,0,0.1)"}},viewControl:{autoRotate:!0,autoRotateSpeed:4,autoRotateAfterStill:1,distance:130},top:"6%"},series:i};e.setOption(l);var n=!1;e.on("click",function(o){const d=e.getOption().series;o.data.type=="model"&&(n=!0,d.forEach(h=>{h.name&&h.name!=o.name&&(h.itemStyle={opacity:.1}),h.name||h.data.forEach(R=>{R.name!=o.name&&(R.itemStyle={opacity:.1})})}),e.setOption({series:d}))}),e.on("mousemove",function(o){n&&(e.setOption({series:v}),n=!1)})}const p=r(null);let e=null;return fe(async()=>{await Q();try{_e.get("./data/value_space.json").then(c=>{console.log(c.data);let i=c.data;const l={model:[],node:[]};l.model=i.tsne_models.map((n,o)=>({name:i.tsne_model_caption[o],value:n,type:"model",itemStyle:{color:f[o],opacity:1}})),l.node=i.tsne_nodes.map((n,o)=>({name:i.tsne_node_captions[o],value:n,type:"node",model:i.tsne_model_caption[Math.floor(o/30)]})),u(l)})}catch(c){console.error("Fetch error:",c)}}),(c,y)=>(w(),M("div",null,[a("div",nt,[a("div",rt,[a("div",it,[a("div",ct,[a("div",{class:"chart",style:{width:"1100px",height:"800px"},ref_key:"chartDom",ref:p},null,512)])])])])]))}},dt=Se(ut,[["__scopeId","data-v-6bf6820d"]]),vt={class:""},pt={__name:"CulturalAlignment",setup(t,{expose:v}){const f=r(null);let u=null;const p=r(),e=r();let c=[];const y=async()=>_e.get("./data/value_sim_heatmap.json").then(l=>{console.log(l.data),p.value=l.data;const n={};for(let o=0;o<l.data.models.length;o++)n[l.data.models[o]]=l.data.cosine_sim_matrix[o];console.log(n),e.value=n}),i=l=>{let n=[];if(l){let T=[];for(var o=0;o<l.length;o++)T.push(e.value[l[o]]);n={cosine_sim_matrix:T,models:l,countries:c}}else n=p.value;console.log("modelNameList",l,n);var d=[];for(let T=0;T<n.cosine_sim_matrix.length;T++)for(let _=0;_<n.countries.length;_++)d.push([T,_,n.cosine_sim_matrix[T][_]]);const h=n.models,R=d.map(function(T){return[T[1],T[0],(T[2]*100).toFixed(3)||"-"]});console.log(d,"hotData",R),u.setOption({yAxis:{type:"category",data:h,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},series:[{name:"Punch Card",type:"heatmap",data:R,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})};return v({setHotChart:i}),fe(async()=>{await Q(),await y(),console.log("allHeatMapData.value.countries",p.value),c=p.value.countries;const l=p.value.models;u=Le(f.value);const n={tooltip:{position:"top"},grid:{height:"50%",top:"10%",left:"2%",containLabel:!0},xAxis:{type:"category",data:c,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},yAxis:{type:"category",data:l,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"15%",color:["#083669","#4795C3","#eeeeee","#E0785F","#690320"],textStyle:{color:"#000"}}};u.setOption(n),i()}),(l,n)=>(w(),M("div",null,[a("div",vt,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:f,style:{width:"1200px",height:"600px",margin:"0 auto"}},null,512)])])])]))}},ue=t=>(Be("data-v-d9ca4a9d"),t=t(),He(),t),_t={class:"content-filter"},mt={class:"panel-content"},ft=ue(()=>a("div",{class:"title"},"Applied filters",-1)),ht={class:"panel-row"},bt=ue(()=>a("div",{class:"filter-name"},"Measurement Date",-1)),yt={class:"panel-tags"},gt={class:"title"},xt={class:"panel-row"},Ct=ue(()=>a("div",{class:"filter-name"},"Schwartz Value Theory",-1)),wt={class:"panel-tags"},St={class:"panel-row"},kt=ue(()=>a("div",{class:"filter-name"},"Moral Foundation Theory",-1)),$t={class:"panel-tags"},Tt={class:"panel-row"},Et=ue(()=>a("div",{class:"filter-name"},"Diverse Safety Risks",-1)),Mt={class:"panel-tags"},zt={class:"panel-row"},Rt=ue(()=>a("div",{class:"filter-name"},"LLMs' Unique Values",-1)),Vt={class:"panel-tags"},Ft={__name:"selectBox",emits:["fitterChange"],setup(t,{emit:v}){r();const f={multiple:!0},u=r([]),p=r(!1),e=r(null),c=r(0);let y=Ze({});const i=[{value:0,label:"Universal"},{value:1,label:"Schwartz Value Theory",children:[{value:0,label:"Achievement"},{value:1,label:"Benevolence"},{value:2,label:"Conformity"},{value:3,label:"Hedonism"},{value:4,label:"Power"},{value:5,label:"Security"},{value:6,label:"Self-direction"},{value:7,label:"Stimulation"},{value:8,label:"Tradition"},{value:9,label:"Universalism"}]},{value:2,label:"Moral Foundation Theory",children:[{value:0,label:"Authority"},{value:1,label:"Care"},{value:2,label:"Fairness"},{value:3,label:"Loyalty"},{value:4,label:"Sanctity"}]},{value:3,label:"Diverse Safety Risks",children:[{value:0,label:"Misinformation Harms"},{value:1,label:"Representation & Toxicity Harms"},{value:2,label:"Socioeconomic Harms"},{value:3,label:"Human Autonomy & Integrity Harms"},{value:4,label:"Malicious Use"},{value:5,label:"Information & Safety Harms"}]},{value:4,label:"LLMs' Unique Values",children:[{value:0,label:"User-Oriented"},{value:1,label:"Self-Competent"},{value:2,label:"Idealistic"},{value:3,label:"Social"},{value:4,label:"Ethical"},{value:5,label:"Professional"}]}],l=r("2024/7"),n=[{value:"2024/7",label:"2024/7"}],o=C=>{u.value=u.value.filter(k=>k[0]!==C.parent||k[1]!==C.key),R(u.value)},d=C=>{Q(()=>{g()})},h=v,R=C=>{console.log("handleChange",C),c.value=C.length,y={};const k=[];C.length>0&&C.forEach(z=>{y[z[0]]=y[z[0]]||[],(z[1]||z[1]==0)&&(y[z[0]].push({name:i[z[0]].children[z[1]].label,key:z[1],parent:z[0]}),k.push(i[z[0]].children[z[1]].label))}),h("fitterChange",y),Q(()=>{g()})},T=()=>{u.value=[],R(u.value),Q(()=>{g()})},_=()=>{p.value=!p.value,e.value.style.maxHeight?e.value.style.maxHeight=null:e.value.style.maxHeight=e.value.scrollHeight+"px"},g=()=>{p.value&&(e.value.style.maxHeight=e.value.scrollHeight+"px")};return(C,k)=>{const z=da,W=ba,I=va,ne=ya,J=ga,S=xa;return w(),M("div",null,[a("div",_t,[m(ne,{modelValue:l.value,"onUpdate:modelValue":k[1]||(k[1]=s=>l.value=s),placeholder:"Measurement Date",onChange:d,style:{width:"200px"}},{default:B(()=>[m(I,{modelValue:l.value,"onUpdate:modelValue":k[0]||(k[0]=s=>l.value=s),style:{width:"100%"}},{default:B(()=>[(w(),M(j,null,q(n,s=>m(W,{key:s.value,label:s.label,value:s.value},{default:B(()=>[m(z,{value:s.value},{default:B(()=>[ee(U(s.label),1)]),_:2},1032,["value"])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),m(J,{class:"select",modelValue:u.value,"onUpdate:modelValue":k[2]||(k[2]=s=>u.value=s),options:i,props:f,style:{width:"240px","margin-left":"20px"},"show-all-levels":!1,"collapse-tags":!0,onChange:R,placeholder:"Measurement Dimension"},null,8,["modelValue"]),a("span",{class:"filter-btn",onClick:T},"Reset Filter"),a("span",{class:Pe(["show-filter",{"is-show":p.value}]),onClick:_},null,2)]),a("div",{class:"panel-box",ref_key:"panel",ref:e},[a("div",mt,[ft,K(a("div",ht,[bt,a("div",yt,[m(S,{type:"info"},{default:B(()=>[ee(U(l.value),1)]),_:1})])],512),[[G,l.value]]),a("div",gt,"Measurement Dimension("+U(c.value)+")",1),K(a("div",xt,[Ct,a("div",wt,[(w(!0),M(j,null,q(H(y)[1],s=>(w(),te(S,{key:s.key,closable:"",type:"info",onClose:x=>o(s)},{default:B(()=>[ee(U(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[G,H(y)[1]]]),K(a("div",St,[kt,a("div",$t,[(w(!0),M(j,null,q(H(y)[2],s=>(w(),te(S,{key:s.key,closable:"",type:"info",onClose:x=>o(s)},{default:B(()=>[ee(U(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[G,H(y)[2]]]),K(a("div",Tt,[Et,a("div",Mt,[(w(!0),M(j,null,q(H(y)[3],s=>(w(),te(S,{key:s.key,closable:"",type:"info",onClose:x=>o(s)},{default:B(()=>[ee(U(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[G,H(y)[3]]]),K(a("div",zt,[Rt,a("div",Vt,[(w(!0),M(j,null,q(H(y)[4],s=>(w(),te(S,{key:s.key,closable:"",type:"info",onClose:x=>o(s)},{default:B(()=>[ee(U(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[G,H(y)[4]]])])],512)])}}},Nt=Se(Ft,[["__scopeId","data-v-d9ca4a9d"]]),Z=t=>(Be("data-v-b92136d3"),t=t(),He(),t),At={class:"bg comparison-template main-container"},Dt={class:"title-content"},Pt=Z(()=>a("h2",null,"Compare Pool",-1)),Ot={class:"compare-model-list"},Bt=["onClick"],Ht={class:"name"},Lt={class:"point-num"},jt=Z(()=>a("span",{class:"point"},"points",-1)),It={class:"top-item-content"},Ut=Z(()=>a("span",{class:"type-icon"},null,-1)),Kt={class:"dev"},qt={class:"date"},Gt={key:0,class:"max-num-tip"},Wt=Z(()=>a("p",{style:{}},"The maximum number of comparisons supported is 5",-1)),Zt=[Wt],Jt=Z(()=>a("img",{src:Za,alt:"add-model"},null,-1)),Xt=Z(()=>a("p",null,"Add",-1)),Yt=[Jt,Xt],Qt=Z(()=>a("p",{style:{"font-size":"2em","font-weight":"600","text-align":"center",margin:"1.5em"}}," Comparison Direction ",-1)),el={class:"chart-box"},al={class:"chart-tab"},tl={class:"chart-main",style:{}},ll={class:"table-box"},ol=Z(()=>a("h4",null,"Schwartz Theory of Basic Values",-1)),sl=Z(()=>a("h4",null,"Moral Foundations Theory",-1)),nl=Z(()=>a("h4",null,"Diverse Safety Risks",-1)),rl={__name:"Comparison",setup(t){const v=r(null),f=r(null);r(null);const u=["rgba(16, 147, 255, 1)","rgba(172, 210, 145, 1)","rgba(113, 134, 201, 1)","rgba(162, 123, 187, 1)","rgba(225, 149, 208, 1)"],p=[{name:"Table",index:0},{name:"Visualization",index:1},{name:"Cultural Alignment",index:2},{name:"Value Space",index:3}];var e=null,c=null,y=null,i=null,l=null,n=null,o=null;const d=r(),h=r([]),R=r(),T=r(!1),_=r([]),g=r([]),C=r([]),k=E=>_e.get(E);(async()=>{try{_e.all([k("./data/models_info.json"),k("./data/Schwartz_scores.json"),k("./data/Schwartz_cases.json"),k("./data/Risk_scores.json"),k("./data/Risk_cases.json"),k("./data/MFT_scores.json"),k("./data/MFT_cases.json")]).then(_e.spread(function(E,b,P,X,N,ve,Ee){o=E.data.data,d.value=he(E.data.data),e=he(b.data.data),c=P.data.data,y=he(X.data.data),i=N.data.data,l=he(ve.data.data),n=Ee.data.data,re=pa(e,y,l);for(let Y in d.value){const pe=_a(Y,[],re);d.value[Y].points=(pe*100).toFixed(3)}_.value=Object.keys(d.value),s.value=Object.keys(e[_.value[0]]),A.value=s.value,D.value=Object.keys(y[_.value[0]]),L.value=D.value,x.value=Object.keys(l[_.value[0]]),V.value=x.value,g.value.push(_.value[0]),J()}))}catch(E){console.error("Fetch error:",E)}})();const W=(E,b)=>b.label=="model_name"?E[b.label]:(E[b.label]*100).toFixed(3),I=r(0),ne=E=>{console.log(E),I.value=E.index},J=()=>{T.value=!1,console.log(g.value),g.value.length>5&&alert("最多可添加5个model"),de(),h.value=""},S=(E,b)=>{g.value.splice(b,1),J()},s=r([]),x=r([]),D=r([]),A=r([]),V=r([]),L=r([]),O=r([]),F=r([]),le=r([]),de=()=>{C.value=[],g.value.length>5&&alert("最多可添加5个model"),console.log("checkedModelNameList.value",g.value);var E=[];for(let b=0;b<g.value.length&&!(b>=5);b++){console.log(C.value);let P=!1;C.value.forEach(N=>{console.log("item",N,g.value[b]),N.model_name==g.value[b]&&(P=!0),E.push(N.color)});let X=u.filter(N=>E.every(ve=>ve!=N));if(!P){let N={};N.color=X[0],N.model_name=g.value[b],N.model_info=d.value[g.value[b]],N.Schwartz_data=e[g.value[b]],N.Risk_data=y[g.value[b]],N.MFT_data=l[g.value[b]],C.value.push(N)}}console.log("checkedModelDetailList.value",C.value),O.value=[],F.value=[],le.value=[];for(let b=0;b<C.value.length;b++){let P={};P=e[g.value[b]],P.model_name=g.value[b],O.value.push(P);let X={};X=y[g.value[b]],X.model_name=g.value[b],le.value.push(X);let N={};N=l[g.value[b]],N.model_name=g.value[b],F.value.push(N)}v.value.setRadarChart(C.value),f.value.setHotChart(g.value),console.log("checkedModelDetailList.value",C.value)};Je(()=>{});let re=null;const Te=E=>{console.log("filerData",E),E[1]?A.value=E[1].map(b=>b.name):A.value=s.value,E[2]?V.value=E[2].map(b=>b.name):V.value=x.value,E[3]?L.value=E[3].map(b=>b.name):L.value=D.value,v.value.setRadarChart(C.value,{Schwartz_data:A.value,MFT_data:V.value,Risk_data:L.value})};return(E,b)=>{const P=ma,X=wa,N=Sa,ve=fa,Ee=Wa,je=Ga,Y=ka,pe=Ca,aa=ha;return w(),M("div",At,[a("div",null,[a("div",Dt,[Pt,a("div",Ot,[a("ul",null,[(w(!0),M(j,null,q(C.value,($,oe)=>(w(),M("li",{key:$,style:Oe({"border-color":$.color})},[a("span",{class:"close-comparison",onClick:il=>S($.model_name,oe)},null,8,Bt),a("p",Ht,U($.model_name),1),a("p",Lt,[ee(U($.model_info.points),1),jt]),a("div",It,[m(P,{effect:"customized",content:"Proprietary",placement:"top"},{default:B(()=>[Ut]),_:1}),a("span",Kt,U($.model_info.developer),1),a("span",qt,U($.model_info["release date"].split(" ")[0]),1)])],4))),128)),C.value.length>=5?(w(),M("div",Gt,Zt)):ie("",!0),C.value.length<5?K((w(),M("div",{key:1,class:"add-model",onClick:b[0]||(b[0]=$=>T.value=!0)},Yt)),[[aa,R.value]]):ie("",!0),m(ve,{ref_key:"popoverRef",ref:R,visible:T.value,placement:"right-start",width:576,trigger:"click","virtual-triggering":"",persistent:""},{default:B(()=>[a("div",null,[m(N,{modelValue:g.value,"onUpdate:modelValue":b[1]||(b[1]=$=>g.value=$),max:5},{default:B(()=>[(w(!0),M(j,null,q(_.value,$=>(w(),te(X,{key:$,value:$},{default:B(()=>[ee(U($),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),a("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[a("button",{onClick:J},"Submit")])])]),_:1},8,["visible"])])])])]),Qt,a("div",el,[a("div",al,[m(je,{modelValue:I.value,"onUpdate:modelValue":b[2]||(b[2]=$=>I.value=$),onTabClick:ne},{default:B(()=>[(w(),M(j,null,q(p,$=>m(Ee,{key:$.index,label:"   "+$.name+"   ",name:$.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),a("div",tl,[K(m(Nt,{onFitterChange:Te},null,512),[[G,I.value==0||I.value==1]]),K(a("div",ll,[m(pe,{data:O.value,border:"",style:{width:"100%"}},{default:B(()=>[m(Y,{prop:"model_name",label:"Model"}),(w(!0),M(j,null,q(A.value,($,oe)=>(w(),M(j,{key:oe},[$!="model_name"?(w(),te(Y,{key:0,prop:$,label:$,formatter:W},null,8,["prop","label"])):ie("",!0)],64))),128))]),_:1},8,["data"]),ol,m(pe,{data:F.value,border:"",style:{width:"100%"}},{default:B(()=>[m(Y,{prop:"model_name",label:"Model"}),(w(!0),M(j,null,q(V.value,($,oe)=>(w(),M(j,{key:oe},[$!="model_name"?(w(),te(Y,{key:0,prop:$,label:$,formatter:W},null,8,["prop","label"])):ie("",!0)],64))),128))]),_:1},8,["data"]),sl,m(pe,{data:le.value,border:"",style:{width:"100%"}},{default:B(()=>[m(Y,{prop:"model_name",label:"Model"}),(w(!0),M(j,null,q(L.value,($,oe)=>(w(),M(j,{key:oe},[$!="model_name"?(w(),te(Y,{key:0,prop:$,label:$,formatter:W},null,8,["prop","label"])):ie("",!0)],64))),128))]),_:1},8,["data"]),nl],512),[[G,I.value==0]]),K(a("div",null,[m(st,{ref_key:"VisualizationComponentProps",ref:v},null,512)],512),[[G,I.value==1]]),K(a("div",null,[m(dt)],512),[[G,I.value==3]]),K(a("div",null,[m(pt,{ref_key:"CulturalAlignmentComponentProps",ref:f},null,512)],512),[[G,I.value==2]])])])])}}},hl=Se(rl,[["__scopeId","data-v-b92136d3"]]);export{hl as default};
