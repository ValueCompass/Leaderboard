import{c as xe,d as Ne,t as Ae,u as Ce,e as qe,_ as Ge,f as ta,h as la,i as oa,j as sa,k as na,p as ra,U as We,l as Ie,n as ia,o as Ue,w as ca,q as ua,a as me,g as he,m as da,b as va}from"./common-D2Sevw_J.js";import{c as be,E as pa,a as ma,b as _a}from"./el-radio-group-DiDEAdSm.js";import{E as fa,a as ha}from"./el-popover-CQdcFVJo.js";import{f as ae,d as ba,E as ya,a as ga,b as xa,c as Ca,g as wa,h as Sa,e as ka}from"./el-select-C4OhtHiu.js";import{E as Me,G as Ve,H as $a,I as ce,J as De,r,s as se,g as Q,o as w,c as M,n as Pe,u as H,K as Oe,L as we,B as _e,x as fe,m as Ta,d as _,q as Ea,M as Fe,N as Ma,O as za,a as Ze,D as Je,e as K,v as G,j as ie,b as a,_ as Se,F as j,f as q,t as U,p as Be,k as He,w as B,h as ee,i as te}from"./index-Ck90kGhw.js";import{i as Le}from"./index-DNSscJ2R.js";import"./linesGL-CN2UtC-e.js";import{m as Xe,E as ye}from"./el-input-DI7o09NW.js";const ge=t=>{const p=Me(t)?t:[t],f=[];return p.forEach(u=>{var d;Me(u)?f.push(...ge(u)):Ve(u)&&Me(u.children)?f.push(...ge(u.children)):(f.push(u),Ve(u)&&((d=u.component)!=null&&d.subTree)&&f.push(...ge(u.component.subTree)))}),f},Ra=(t,p,f)=>ge(t.subTree).filter(e=>{var i;return Ve(e)&&((i=e.type)==null?void 0:i.name)===p&&!!e.component}).map(e=>e.component.uid).map(e=>f[e]).filter(e=>!!e),Va=(t,p)=>{const f={},u=$a([]);return{children:u,addChild:i=>{f[i.uid]=i,u.value=Ra(t,p,f)},removeChild:i=>{delete f[i],u.value=u.value.filter(y=>y.uid!==i)}}},ke=Symbol("tabsRootContextKey"),Fa=xe({tabs:{type:Ne(Array),default:()=>Xe([])}}),Ye="ElTabBar",Na=ce({name:Ye}),Aa=ce({...Na,props:Fa,setup(t,{expose:p}){const f=t,u=we(),d=De(ke);d||Ae(Ye,"<el-tabs><el-tab-bar /></el-tabs>");const e=Ce("tabs"),i=r(),y=r(),c=()=>{let n=0,o=0;const v=["top","bottom"].includes(d.props.tabPosition)?"width":"height",h=v==="width"?"x":"y",R=h==="x"?"left":"top";return f.tabs.every(T=>{var m,g;const C=(g=(m=u.parent)==null?void 0:m.refs)==null?void 0:g[`tab-${T.uid}`];if(!C)return!1;if(!T.active)return!0;n=C[`offset${ae(R)}`],o=C[`client${ae(v)}`];const k=window.getComputedStyle(C);return v==="width"&&(o-=Number.parseFloat(k.paddingLeft)+Number.parseFloat(k.paddingRight),n+=Number.parseFloat(k.paddingLeft)),!1}),{[v]:`${o}px`,transform:`translate${ae(h)}(${n}px)`}},l=()=>y.value=c();return se(()=>f.tabs,async()=>{await Q(),l()},{immediate:!0}),qe(i,()=>l()),p({ref:i,update:l}),(n,o)=>(w(),M("div",{ref_key:"barRef",ref:i,class:Pe([H(e).e("active-bar"),H(e).is(H(d).props.tabPosition)]),style:Oe(y.value)},null,6))}});var Da=Ge(Aa,[["__file","tab-bar.vue"]]);const Pa=xe({panes:{type:Ne(Array),default:()=>Xe([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Oa={tabClick:(t,p,f)=>f instanceof Event,tabRemove:(t,p)=>p instanceof Event},Ke="ElTabNav",Ba=ce({name:Ke,props:Pa,emits:Oa,setup(t,{expose:p,emit:f}){const u=we(),d=De(ke);d||Ae(Ke,"<el-tabs><tab-nav /></el-tabs>");const e=Ce("tabs"),i=ta(),y=la(),c=r(),l=r(),n=r(),o=r(),v=r(!1),h=r(0),R=r(!1),T=r(!0),m=_e(()=>["top","bottom"].includes(d.props.tabPosition)?"width":"height"),g=_e(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${h.value}px)`})),C=()=>{if(!c.value)return;const S=c.value[`offset${ae(m.value)}`],s=h.value;if(!s)return;const x=s>S?s-S:0;h.value=x},k=()=>{if(!c.value||!l.value)return;const S=l.value[`offset${ae(m.value)}`],s=c.value[`offset${ae(m.value)}`],x=h.value;if(S-x<=s)return;const D=S-x>s*2?x+s:S-s;h.value=D},z=async()=>{const S=l.value;if(!v.value||!n.value||!c.value||!S)return;await Q();const s=n.value.querySelector(".is-active");if(!s)return;const x=c.value,D=["top","bottom"].includes(d.props.tabPosition),A=s.getBoundingClientRect(),V=x.getBoundingClientRect(),L=D?S.offsetWidth-V.width:S.offsetHeight-V.height,O=h.value;let F=O;D?(A.left<V.left&&(F=O-(V.left-A.left)),A.right>V.right&&(F=O+A.right-V.right)):(A.top<V.top&&(F=O-(V.top-A.top)),A.bottom>V.bottom&&(F=O+(A.bottom-V.bottom))),F=Math.max(F,0),h.value=Math.min(F,L)},W=()=>{var S;if(!l.value||!c.value)return;t.stretch&&((S=o.value)==null||S.update());const s=l.value[`offset${ae(m.value)}`],x=c.value[`offset${ae(m.value)}`],D=h.value;x<s?(v.value=v.value||{},v.value.prev=D,v.value.next=D+x<s,s-D<x&&(h.value=s-x)):(v.value=!1,D>0&&(h.value=0))},I=S=>{const s=S.code,{up:x,down:D,left:A,right:V}=be;if(![x,D,A,V].includes(s))return;const L=Array.from(S.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),O=L.indexOf(S.target);let F;s===A||s===x?O===0?F=L.length-1:F=O-1:O<L.length-1?F=O+1:F=0,L[F].focus({preventScroll:!0}),L[F].click(),ne()},ne=()=>{T.value&&(R.value=!0)},J=()=>R.value=!1;return se(i,S=>{S==="hidden"?T.value=!1:S==="visible"&&setTimeout(()=>T.value=!0,50)}),se(y,S=>{S?setTimeout(()=>T.value=!0,50):T.value=!1}),qe(n,W),fe(()=>setTimeout(()=>z(),0)),Ta(()=>W()),p({scrollToActiveTab:z,removeFocus:J}),se(()=>t.panes,()=>u.update(),{flush:"post",deep:!0}),()=>{const S=v.value?[_("span",{class:[e.e("nav-prev"),e.is("disabled",!v.value.prev)],onClick:C},[_(ye,null,{default:()=>[_(oa,null,null)]})]),_("span",{class:[e.e("nav-next"),e.is("disabled",!v.value.next)],onClick:k},[_(ye,null,{default:()=>[_(sa,null,null)]})])]:null,s=t.panes.map((x,D)=>{var A,V,L,O;const F=x.uid,le=x.props.disabled,de=(V=(A=x.props.name)!=null?A:x.index)!=null?V:`${D}`,re=!le&&(x.isClosable||t.editable);x.index=`${D}`;const Te=re?_(ye,{class:"is-icon-close",onClick:P=>f("tabRemove",x,P)},{default:()=>[_(na,null,null)]}):null,E=((O=(L=x.slots).label)==null?void 0:O.call(L))||x.props.label,b=!le&&x.active?0:-1;return _("div",{ref:`tab-${F}`,class:[e.e("item"),e.is(d.props.tabPosition),e.is("active",x.active),e.is("disabled",le),e.is("closable",re),e.is("focus",R.value)],id:`tab-${de}`,key:`tab-${F}`,"aria-controls":`pane-${de}`,role:"tab","aria-selected":x.active,tabindex:b,onFocus:()=>ne(),onBlur:()=>J(),onClick:P=>{J(),f("tabClick",x,de,P)},onKeydown:P=>{re&&(P.code===be.delete||P.code===be.backspace)&&f("tabRemove",x,P)}},[E,Te])});return _("div",{ref:n,class:[e.e("nav-wrap"),e.is("scrollable",!!v.value),e.is(d.props.tabPosition)]},[S,_("div",{class:e.e("nav-scroll"),ref:c},[_("div",{class:[e.e("nav"),e.is(d.props.tabPosition),e.is("stretch",t.stretch&&["top","bottom"].includes(d.props.tabPosition))],ref:l,style:g.value,role:"tablist",onKeydown:I},[t.type?null:_(Da,{ref:o,tabs:[...t.panes]},null),s])])])}}}),Ha=xe({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ne(Function),default:()=>!0},stretch:Boolean}),ze=t=>Ma(t)||ia(t),La={[We]:t=>ze(t),tabClick:(t,p)=>p instanceof Event,tabChange:t=>ze(t),edit:(t,p)=>["remove","add"].includes(p),tabRemove:t=>ze(t),tabAdd:()=>!0},ja=ce({name:"ElTabs",props:Ha,emits:La,setup(t,{emit:p,slots:f,expose:u}){var d;const e=Ce("tabs"),i=_e(()=>["left","right"].includes(t.tabPosition)),{children:y,addChild:c,removeChild:l}=Va(we(),"ElTabPane"),n=r(),o=r((d=t.modelValue)!=null?d:"0"),v=async(m,g=!1)=>{var C,k,z;if(!(o.value===m||Ie(m)))try{await((C=t.beforeLeave)==null?void 0:C.call(t,m,o.value))!==!1&&(o.value=m,g&&(p(We,m),p("tabChange",m)),(z=(k=n.value)==null?void 0:k.removeFocus)==null||z.call(k))}catch{}},h=(m,g,C)=>{m.props.disabled||(v(g,!0),p("tabClick",m,C))},R=(m,g)=>{m.props.disabled||Ie(m.props.name)||(g.stopPropagation(),p("edit",m.props.name,"remove"),p("tabRemove",m.props.name))},T=()=>{p("edit",void 0,"add"),p("tabAdd")};return se(()=>t.modelValue,m=>v(m)),se(o,async()=>{var m;await Q(),(m=n.value)==null||m.scrollToActiveTab()}),Ea(ke,{props:t,currentName:o,registerPane:c,unregisterPane:l}),u({currentName:o}),()=>{const m=f["add-icon"],g=t.editable||t.addable?_("div",{class:[e.e("new-tab"),i.value&&e.e("new-tab-vertical")],tabindex:"0",onClick:T,onKeydown:z=>{z.code===be.enter&&T()}},[m?Fe(f,"add-icon"):_(ye,{class:e.is("icon-plus")},{default:()=>[_(ra,null,null)]})]):null,C=_("div",{class:[e.e("header"),i.value&&e.e("header-vertical"),e.is(t.tabPosition)]},[_(Ba,{ref:n,currentName:o.value,editable:t.editable,type:t.type,panes:y.value,stretch:t.stretch,onTabClick:h,onTabRemove:R},null),g]),k=_("div",{class:e.e("content")},[Fe(f,"default")]);return _("div",{class:[e.b(),e.m(t.tabPosition),{[e.m("card")]:t.type==="card",[e.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[C,k]:[k,C]])}}}),Ia=xe({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ua=["id","aria-hidden","aria-labelledby"],Qe="ElTabPane",Ka=ce({name:Qe}),qa=ce({...Ka,props:Ia,setup(t){const p=t,f=we(),u=za(),d=De(ke);d||Ae(Qe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const e=Ce("tab-pane"),i=r(),y=_e(()=>p.closable||d.props.closable),c=Ue(()=>{var h;return d.currentName.value===((h=p.name)!=null?h:i.value)}),l=r(c.value),n=_e(()=>{var h;return(h=p.name)!=null?h:i.value}),o=Ue(()=>!p.lazy||l.value||c.value);se(c,h=>{h&&(l.value=!0)});const v=Ze({uid:f.uid,slots:u,props:p,paneName:n,active:c,index:i,isClosable:y});return fe(()=>{d.registerPane(v)}),Je(()=>{d.unregisterPane(v.uid)}),(h,R)=>H(o)?K((w(),M("div",{key:0,id:`pane-${H(n)}`,class:Pe(H(e).b()),role:"tabpanel","aria-hidden":!H(c),"aria-labelledby":`tab-${H(n)}`},[Fe(h.$slots,"default")],10,Ua)),[[G,H(c)]]):ie("v-if",!0)}});var ea=Ge(qa,[["__file","tab-pane.vue"]]);const Ga=ca(ja,{TabPane:ea}),Wa=ua(ea),Za="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",Ja={class:""},Re={__name:"echart",setup(t,{expose:p}){const f=r(null);let u=null;return p({setRadarChart:(e,i,y)=>{let c=[];y?c=y:c=Object.keys(e[0][i]);let l=c.filter(o=>o!="model_name").map((o,v)=>({name:o,color:(v==0,"#000"),axisLabel:{show:v==0},min:-1,max:1})),n=[];for(let o=0;o<e.length;o++){let v=[];for(let h=0;h<l.length;h++)v.push(e[o][i][l[h].name]);n.push({value:v,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:e[o].color},itemStyle:{color:e[o].color}})}u.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black"},triggerEvent:!0,indicator:l},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:n}]})}}),fe(async()=>{await Q(),u=Le(f.value);const e={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};u.setOption(e)}),(e,i)=>(w(),M("div",null,[a("div",Ja,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:f,style:{width:"880px",height:"600px",margin:"0 auto"}},null,512)])])])]))}},$e=t=>(Be("data-v-da66e9c4"),t=t(),He(),t),Xa={class:""},Ya={class:"model-title"},Qa={class:"echart-list"},et=$e(()=>a("p",null,"Schwartz Theory of Basic Values",-1)),at=$e(()=>a("p",null,"Moral Foundation Theory",-1)),tt=$e(()=>a("p",null,"Diverse Safety Risks",-1)),lt=$e(()=>a("p",null,"LLM Value System",-1)),ot={__name:"Visualization",setup(t,{expose:p}){const f=r(null),u=r(null),d=r(null),e=r(null),i=r(null);return p({setRadarChart:(c,l)=>{i.value=c,f.value.setRadarChart(c,"Schwartz_data",l?l.Schwartz_data:null),u.value.setRadarChart(c,"MFT_data",l?l.MFT_data:null),d.value.setRadarChart(c,"Risk_data",l?l.Risk_data:null)}}),(c,l)=>(w(),M("div",null,[a("div",Xa,[a("div",Ya,[(w(!0),M(j,null,q(i.value,(n,o)=>(w(),M("div",{key:o},[a("span",{style:Oe([{"background-color":n.color},{}])},null,4),a("span",null,U(n.model_name),1)]))),128))]),a("div",Qa,[a("div",null,[et,_(Re,{ref_key:"chartDom1",ref:f},null,512)]),a("div",null,[at,_(Re,{ref_key:"chartDom2",ref:u},null,512)]),a("div",null,[tt,_(Re,{ref_key:"chartDom3",ref:d},null,512)]),a("div",null,[lt,a("div",{class:"chart",ref_key:"chartDom4",ref:e,style:{width:"500px",height:"500px"}},null,512)])])])]))}},st=Se(ot,[["__scopeId","data-v-da66e9c4"]]),nt={class:"chart-box"},rt={class:"result-main"},it={class:"chart-main"},ct={class:"card-item"},ut={__name:"ValueSpace",setup(t){var p=null,f=["#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361"];function u(i){console.log(i),e=Le(d.value);const y="path://M1 11C6.52285 11 11 6.52285 11 1H13C13 6.52285 17.4772 11 23 11V13C17.4772 13 13 17.4772 13 23H11C11 17.4772 6.52285 13 1 13V11Z",c=[{type:"scatter3D",data:i.model,symbolSize:24,symbol:y,itemStyle:{opacity:1},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}];i.model.forEach((o,v)=>{const h=i.node.slice(v*30,v*30+30);c.push({name:o.name,type:"scatter3D",data:h,symbolSize:8,symbol:y,label:{show:!1,formatter:""},itemStyle:{color:f[v],opacity:1}})}),p=Object.assign([],c);const l={legend:{show:!0,width:"1100",textStyle:{color:"#fff"}},tooltip:{appendToBody:!0,className:"tooltip",hideDelay:1e3,enterable:!0,triggerOn:"click",backgroundColor:"#0A111F",borderColor:"#0A111F",textStyle:{color:"#fff"},formatter:function(o){return o.data.type=="node"?`<div style="padding: 6px 28px;">
                  <pre style="text-align: left; white-space: pre-line;">${o.data.name}</pre>
                </div>`:""}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{axisLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},axisPointer:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},viewControl:{autoRotate:!0,autoRotateSpeed:4,autoRotateAfterStill:1,distance:130},top:"6%"},series:c};e.setOption(l);var n=!1;e.on("click",function(o){const v=e.getOption().series;o.data.type=="model"&&(n=!0,v.forEach(h=>{h.name&&h.name!=o.name&&(h.itemStyle={opacity:.1}),h.name||h.data.forEach(R=>{R.name!=o.name&&(R.itemStyle={opacity:.1})})}),e.setOption({series:v}))}),e.on("mousemove",function(o){n&&(e.setOption({series:p}),n=!1)})}const d=r(null);let e=null;return fe(async()=>{await Q();try{me.get("./data/value_space.json").then(i=>{console.log(i.data);let c=i.data;const l={model:[],node:[]};l.model=c.tsne_models.map((n,o)=>({name:c.tsne_model_caption[o],value:n,type:"model",itemStyle:{color:f[o],opacity:1}})),l.node=c.tsne_nodes.map((n,o)=>({name:c.tsne_node_captions[o],value:n,type:"node",model:c.tsne_model_caption[Math.floor(o/30)]})),u(l)})}catch(i){console.error("Fetch error:",i)}}),(i,y)=>(w(),M("div",null,[a("div",nt,[a("div",rt,[a("div",it,[a("div",ct,[a("div",{class:"chart",style:{width:"1100px",height:"800px"},ref_key:"chartDom",ref:d},null,512)])])])])]))}},dt=Se(ut,[["__scopeId","data-v-522896a2"]]),vt={class:""},pt={__name:"CulturalAlignment",setup(t,{expose:p}){const f=r(null);let u=null;const d=r(),e=r();let i=[];const y=async()=>me.get("./data/value_sim_heatmap.json").then(l=>{console.log(l.data),d.value=l.data;const n={};for(let o=0;o<l.data.models.length;o++)n[l.data.models[o]]=l.data.cosine_sim_matrix[o];console.log(n),e.value=n}),c=l=>{let n=[];if(l){let T=[];for(var o=0;o<l.length;o++)T.push(e.value[l[o]]);n={cosine_sim_matrix:T,models:l,countries:i}}else n={cosine_sim_matrix:[d.value.cosine_sim_matrix[0]],models:[d.value.models[0]],countries:i};console.log("modelNameList",l,n);var v=[];for(let T=0;T<n.cosine_sim_matrix.length;T++)for(let m=0;m<n.countries.length;m++)v.push([T,m,n.cosine_sim_matrix[T][m]]);const h=n.models,R=v.map(function(T){return[T[1],T[0],(T[2]*100).toFixed(3)||"-"]});console.log(v,"hotData",R),u.setOption({yAxis:{type:"category",data:h,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},series:[{name:"Punch Card",type:"heatmap",data:R,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})};return p({setHotChart:c}),fe(async()=>{await Q(),await y(),console.log("allHeatMapData.value.countries",d.value),i=d.value.countries;const l=d.value.models;u=Le(f.value);const n={tooltip:{position:"top"},grid:{height:"50%",top:"10%",left:"2%",containLabel:!0},xAxis:{type:"category",data:i,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},yAxis:{type:"category",data:l,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"15%",color:["#690320","#E0785F","#eeeeee","#4795C3","#083669"],textStyle:{color:"#000"}}};u.setOption(n),c()}),(l,n)=>(w(),M("div",null,[a("div",vt,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:f,style:{width:"1200px",height:"600px",margin:"0 auto"}},null,512)])])])]))}},ue=t=>(Be("data-v-d9ca4a9d"),t=t(),He(),t),mt={class:"content-filter"},_t={class:"panel-content"},ft=ue(()=>a("div",{class:"title"},"Applied filters",-1)),ht={class:"panel-row"},bt=ue(()=>a("div",{class:"filter-name"},"Measurement Date",-1)),yt={class:"panel-tags"},gt={class:"title"},xt={class:"panel-row"},Ct=ue(()=>a("div",{class:"filter-name"},"Schwartz Value Theory",-1)),wt={class:"panel-tags"},St={class:"panel-row"},kt=ue(()=>a("div",{class:"filter-name"},"Moral Foundation Theory",-1)),$t={class:"panel-tags"},Tt={class:"panel-row"},Et=ue(()=>a("div",{class:"filter-name"},"Diverse Safety Risks",-1)),Mt={class:"panel-tags"},zt={class:"panel-row"},Rt=ue(()=>a("div",{class:"filter-name"},"LLMs' Unique Values",-1)),Vt={class:"panel-tags"},Ft={__name:"selectBox",emits:["fitterChange"],setup(t,{emit:p}){r();const f={multiple:!0},u=r([]),d=r(!1),e=r(null),i=r(0);let y=Ze({});const c=[{value:0,label:"Universal"},{value:1,label:"Schwartz Value Theory",children:[{value:0,label:"Achievement"},{value:1,label:"Benevolence"},{value:2,label:"Conformity"},{value:3,label:"Hedonism"},{value:4,label:"Power"},{value:5,label:"Security"},{value:6,label:"Self-direction"},{value:7,label:"Stimulation"},{value:8,label:"Tradition"},{value:9,label:"Universalism"}]},{value:2,label:"Moral Foundation Theory",children:[{value:0,label:"Authority"},{value:1,label:"Care"},{value:2,label:"Fairness"},{value:3,label:"Loyalty"},{value:4,label:"Sanctity"}]},{value:3,label:"Diverse Safety Risks",children:[{value:0,label:"Misinformation Harms"},{value:1,label:"Representation & Toxicity Harms"},{value:2,label:"Socioeconomic Harms"},{value:3,label:"Human Autonomy & Integrity Harms"},{value:4,label:"Malicious Use"},{value:5,label:"Information & Safety Harms"}]},{value:4,label:"LLMs' Unique Values",children:[{value:0,label:"User-Oriented"},{value:1,label:"Self-Competent"},{value:2,label:"Idealistic"},{value:3,label:"Social"},{value:4,label:"Ethical"},{value:5,label:"Professional"}]}],l=r("2024/7"),n=[{value:"2024/7",label:"2024/7"}],o=C=>{u.value=u.value.filter(k=>k[0]!==C.parent||k[1]!==C.key),R(u.value)},v=C=>{Q(()=>{g()})},h=p,R=C=>{console.log("handleChange",C),i.value=C.length,y={};const k=[];C.length>0&&C.forEach(z=>{y[z[0]]=y[z[0]]||[],(z[1]||z[1]==0)&&(y[z[0]].push({name:c[z[0]].children[z[1]].label,key:z[1],parent:z[0]}),k.push(c[z[0]].children[z[1]].label))}),h("fitterChange",y),Q(()=>{g()})},T=()=>{u.value=[],R(u.value),Q(()=>{g()})},m=()=>{d.value=!d.value,e.value.style.maxHeight?e.value.style.maxHeight=null:e.value.style.maxHeight=e.value.scrollHeight+"px"},g=()=>{d.value&&(e.value.style.maxHeight=e.value.scrollHeight+"px")};return(C,k)=>{const z=pa,W=ba,I=ma,ne=ya,J=ga,S=xa;return w(),M("div",null,[a("div",mt,[_(ne,{modelValue:l.value,"onUpdate:modelValue":k[1]||(k[1]=s=>l.value=s),placeholder:"Measurement Date",onChange:v,style:{width:"200px"}},{default:B(()=>[_(I,{modelValue:l.value,"onUpdate:modelValue":k[0]||(k[0]=s=>l.value=s),style:{width:"100%"}},{default:B(()=>[(w(),M(j,null,q(n,s=>_(W,{key:s.value,label:s.label,value:s.value},{default:B(()=>[_(z,{value:s.value},{default:B(()=>[ee(U(s.label),1)]),_:2},1032,["value"])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),_(J,{class:"select",modelValue:u.value,"onUpdate:modelValue":k[2]||(k[2]=s=>u.value=s),options:c,props:f,style:{width:"240px","margin-left":"20px"},"show-all-levels":!1,"collapse-tags":!0,onChange:R,placeholder:"Measurement Dimension"},null,8,["modelValue"]),a("span",{class:"filter-btn",onClick:T},"Reset Filter"),a("span",{class:Pe(["show-filter",{"is-show":d.value}]),onClick:m},null,2)]),a("div",{class:"panel-box",ref_key:"panel",ref:e},[a("div",_t,[ft,K(a("div",ht,[bt,a("div",yt,[_(S,{type:"info"},{default:B(()=>[ee(U(l.value),1)]),_:1})])],512),[[G,l.value]]),a("div",gt,"Measurement Dimension("+U(i.value)+")",1),K(a("div",xt,[Ct,a("div",wt,[(w(!0),M(j,null,q(H(y)[1],s=>(w(),te(S,{key:s.key,closable:"",type:"info",onClose:x=>o(s)},{default:B(()=>[ee(U(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[G,H(y)[1]]]),K(a("div",St,[kt,a("div",$t,[(w(!0),M(j,null,q(H(y)[2],s=>(w(),te(S,{key:s.key,closable:"",type:"info",onClose:x=>o(s)},{default:B(()=>[ee(U(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[G,H(y)[2]]]),K(a("div",Tt,[Et,a("div",Mt,[(w(!0),M(j,null,q(H(y)[3],s=>(w(),te(S,{key:s.key,closable:"",type:"info",onClose:x=>o(s)},{default:B(()=>[ee(U(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[G,H(y)[3]]]),K(a("div",zt,[Rt,a("div",Vt,[(w(!0),M(j,null,q(H(y)[4],s=>(w(),te(S,{key:s.key,closable:"",type:"info",onClose:x=>o(s)},{default:B(()=>[ee(U(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[G,H(y)[4]]])])],512)])}}},Nt=Se(Ft,[["__scopeId","data-v-d9ca4a9d"]]),Z=t=>(Be("data-v-b92136d3"),t=t(),He(),t),At={class:"bg comparison-template main-container"},Dt={class:"title-content"},Pt=Z(()=>a("h2",null,"Compare Pool",-1)),Ot={class:"compare-model-list"},Bt=["onClick"],Ht={class:"name"},Lt={class:"point-num"},jt=Z(()=>a("span",{class:"point"},"points",-1)),It={class:"top-item-content"},Ut=Z(()=>a("span",{class:"type-icon"},null,-1)),Kt={class:"dev"},qt={class:"date"},Gt={key:0,class:"max-num-tip"},Wt=Z(()=>a("p",{style:{}},"The maximum number of comparisons supported is 5",-1)),Zt=[Wt],Jt=Z(()=>a("img",{src:Za,alt:"add-model"},null,-1)),Xt=Z(()=>a("p",null,"Add",-1)),Yt=[Jt,Xt],Qt=Z(()=>a("p",{style:{"font-size":"2em","font-weight":"600","text-align":"center",margin:"1.5em"}}," Comparison Direction ",-1)),el={class:"chart-box"},al={class:"chart-tab"},tl={class:"chart-main",style:{}},ll={class:"table-box"},ol=Z(()=>a("h4",null,"Schwartz Theory of Basic Values",-1)),sl=Z(()=>a("h4",null,"Moral Foundations Theory",-1)),nl=Z(()=>a("h4",null,"Diverse Safety Risks",-1)),rl={__name:"Comparison",setup(t){const p=r(null),f=r(null);r(null);const u=["rgba(16, 147, 255, 1)","rgba(172, 210, 145, 1)","rgba(113, 134, 201, 1)","rgba(162, 123, 187, 1)","rgba(225, 149, 208, 1)"],d=[{name:"Table",index:0},{name:"Visualization",index:1},{name:"Cultural Alignment",index:2},{name:"Value Space",index:3}];var e=null,i=null,y=null,c=null,l=null,n=null,o=null;const v=r(),h=r([]),R=r(),T=r(!1),m=r([]),g=r([]),C=r([]),k=E=>me.get(E);(async()=>{try{me.all([k("./data/models_info.json"),k("./data/Schwartz_scores.json"),k("./data/Schwartz_cases.json"),k("./data/Risk_scores.json"),k("./data/Risk_cases.json"),k("./data/MFT_scores.json"),k("./data/MFT_cases.json")]).then(me.spread(function(E,b,P,X,N,ve,Ee){o=E.data.data,v.value=he(E.data.data),e=he(b.data.data),i=P.data.data,y=he(X.data.data),c=N.data.data,l=he(ve.data.data),n=Ee.data.data,re=da(e,y,l);for(let Y in v.value){const pe=va(Y,[],re);v.value[Y].points=(pe*100).toFixed(3)}m.value=Object.keys(v.value),s.value=Object.keys(e[m.value[0]]),A.value=s.value,D.value=Object.keys(y[m.value[0]]),L.value=D.value,x.value=Object.keys(l[m.value[0]]),V.value=x.value,g.value.push(m.value[0]),J()}))}catch(E){console.error("Fetch error:",E)}})();const W=(E,b)=>b.label=="model_name"?E[b.label]:(E[b.label]*100).toFixed(3),I=r(0),ne=E=>{console.log(E),I.value=E.index},J=()=>{T.value=!1,console.log(g.value),g.value.length>5&&alert("最多可添加5个model"),de(),h.value=""},S=(E,b)=>{g.value.splice(b,1),J()},s=r([]),x=r([]),D=r([]),A=r([]),V=r([]),L=r([]),O=r([]),F=r([]),le=r([]),de=()=>{C.value=[],g.value.length>5&&alert("最多可添加5个model"),console.log("checkedModelNameList.value",g.value);var E=[];for(let b=0;b<g.value.length&&!(b>=5);b++){console.log(C.value);let P=!1;C.value.forEach(N=>{console.log("item",N,g.value[b]),N.model_name==g.value[b]&&(P=!0),E.push(N.color)});let X=u.filter(N=>E.every(ve=>ve!=N));if(!P){let N={};N.color=X[0],N.model_name=g.value[b],N.model_info=v.value[g.value[b]],N.Schwartz_data=e[g.value[b]],N.Risk_data=y[g.value[b]],N.MFT_data=l[g.value[b]],C.value.push(N)}}console.log("checkedModelDetailList.value",C.value),O.value=[],F.value=[],le.value=[];for(let b=0;b<C.value.length;b++){let P={};P=e[g.value[b]],P.model_name=g.value[b],O.value.push(P);let X={};X=y[g.value[b]],X.model_name=g.value[b],le.value.push(X);let N={};N=l[g.value[b]],N.model_name=g.value[b],F.value.push(N)}p.value.setRadarChart(C.value),f.value.setHotChart(g.value),console.log("checkedModelDetailList.value",C.value)};Je(()=>{});let re=null;const Te=E=>{console.log("filerData",E),E[1]?A.value=E[1].map(b=>b.name):A.value=s.value,E[2]?V.value=E[2].map(b=>b.name):V.value=x.value,E[3]?L.value=E[3].map(b=>b.name):L.value=D.value,p.value.setRadarChart(C.value,{Schwartz_data:A.value,MFT_data:V.value,Risk_data:L.value})};return(E,b)=>{const P=_a,X=wa,N=Sa,ve=fa,Ee=Wa,je=Ga,Y=ka,pe=Ca,aa=ha;return w(),M("div",At,[a("div",null,[a("div",Dt,[Pt,a("div",Ot,[a("ul",null,[(w(!0),M(j,null,q(C.value,($,oe)=>(w(),M("li",{key:$,style:Oe({"border-color":$.color})},[a("span",{class:"close-comparison",onClick:il=>S($.model_name,oe)},null,8,Bt),a("p",Ht,U($.model_name),1),a("p",Lt,[ee(U($.model_info.points),1),jt]),a("div",It,[_(P,{effect:"customized",content:"Proprietary",placement:"top"},{default:B(()=>[Ut]),_:1}),a("span",Kt,U($.model_info.developer),1),a("span",qt,U($.model_info["release date"].split(" ")[0]),1)])],4))),128)),C.value.length>=5?(w(),M("div",Gt,Zt)):ie("",!0),C.value.length<5?K((w(),M("div",{key:1,class:"add-model",onClick:b[0]||(b[0]=$=>T.value=!0)},Yt)),[[aa,R.value]]):ie("",!0),_(ve,{ref_key:"popoverRef",ref:R,visible:T.value,placement:"right-start",width:576,trigger:"click","virtual-triggering":"",persistent:""},{default:B(()=>[a("div",null,[_(N,{modelValue:g.value,"onUpdate:modelValue":b[1]||(b[1]=$=>g.value=$),max:5},{default:B(()=>[(w(!0),M(j,null,q(m.value,$=>(w(),te(X,{key:$,value:$},{default:B(()=>[ee(U($),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),a("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[a("button",{onClick:J},"Submit")])])]),_:1},8,["visible"])])])])]),Qt,a("div",el,[a("div",al,[_(je,{modelValue:I.value,"onUpdate:modelValue":b[2]||(b[2]=$=>I.value=$),onTabClick:ne},{default:B(()=>[(w(),M(j,null,q(d,$=>_(Ee,{key:$.index,label:"   "+$.name+"   ",name:$.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),a("div",tl,[K(_(Nt,{onFitterChange:Te},null,512),[[G,I.value==0||I.value==1]]),K(a("div",ll,[_(pe,{data:O.value,border:"",style:{width:"100%"}},{default:B(()=>[_(Y,{prop:"model_name",label:"Model"}),(w(!0),M(j,null,q(A.value,($,oe)=>(w(),M(j,{key:oe},[$!="model_name"?(w(),te(Y,{key:0,prop:$,label:$,formatter:W},null,8,["prop","label"])):ie("",!0)],64))),128))]),_:1},8,["data"]),ol,_(pe,{data:F.value,border:"",style:{width:"100%"}},{default:B(()=>[_(Y,{prop:"model_name",label:"Model"}),(w(!0),M(j,null,q(V.value,($,oe)=>(w(),M(j,{key:oe},[$!="model_name"?(w(),te(Y,{key:0,prop:$,label:$,formatter:W},null,8,["prop","label"])):ie("",!0)],64))),128))]),_:1},8,["data"]),sl,_(pe,{data:le.value,border:"",style:{width:"100%"}},{default:B(()=>[_(Y,{prop:"model_name",label:"Model"}),(w(!0),M(j,null,q(L.value,($,oe)=>(w(),M(j,{key:oe},[$!="model_name"?(w(),te(Y,{key:0,prop:$,label:$,formatter:W},null,8,["prop","label"])):ie("",!0)],64))),128))]),_:1},8,["data"]),nl],512),[[G,I.value==0]]),K(a("div",null,[_(st,{ref_key:"VisualizationComponentProps",ref:p},null,512)],512),[[G,I.value==1]]),K(a("div",null,[_(dt)],512),[[G,I.value==3]]),K(a("div",null,[_(pt,{ref_key:"CulturalAlignmentComponentProps",ref:f},null,512)],512),[[G,I.value==2]])])])])}}},hl=Se(rl,[["__scopeId","data-v-b92136d3"]]);export{hl as default};
