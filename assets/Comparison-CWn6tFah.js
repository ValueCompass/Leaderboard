import{c as Ce,d as De,t as Me,u as Se,e as qe,_ as Ge,f as la,h as oa,i as sa,j as na,k as ra,p as ia,U as We,l as Ie,n as ca,o as Ue,w as ua,q as da,a as _e,g as he,m as va,b as pa}from"./common-DQxEUUqb.js";import{c as ye,E as ma,a as _a,b as fa}from"./el-radio-group-CUioWF5r.js";import{E as ba,a as ha}from"./el-popover-Df5JFO2y.js";import{f as ee,d as ya,E as ga,a as xa,b as Ca,c as Sa,g as wa,h as ka,e as $a}from"./el-select-Cy9SNQ8x.js";import{I as Fe,J as Re,K as Ta,L as ce,M as Ne,r,x as re,h as J,o as $,c as A,n as Pe,f as O,N as Ze,O as we,C as fe,y as ue,q as Ea,d as b,s as Fa,P as Ve,Q as Aa,R as za,a as Je,E as Qe,e as U,v as q,k as ie,b as a,_ as ke,p as Be,l as Oe,w as B,F as L,g as K,i as Y,t as I,j as ae,G as Ra}from"./index-CAkXodAK.js";import{i as He}from"./index-DNSscJ2R.js";import"./linesGL-CN2UtC-e.js";import{m as Xe,E as ge}from"./el-input-CqMRtWi5.js";const xe=t=>{const _=Fe(t)?t:[t],h=[];return _.forEach(c=>{var f;Fe(c)?h.push(...xe(c)):Re(c)&&Fe(c.children)?h.push(...xe(c.children)):(h.push(c),Re(c)&&((f=c.component)!=null&&f.subTree)&&h.push(...xe(c.component.subTree)))}),h},Va=(t,_,h)=>xe(t.subTree).filter(e=>{var u;return Re(e)&&((u=e.type)==null?void 0:u.name)===_&&!!e.component}).map(e=>e.component.uid).map(e=>h[e]).filter(e=>!!e),Da=(t,_)=>{const h={},c=Ta([]);return{children:c,addChild:u=>{h[u.uid]=u,c.value=Va(t,_,h)},removeChild:u=>{delete h[u],c.value=c.value.filter(x=>x.uid!==u)}}},$e=Symbol("tabsRootContextKey"),Ma=Ce({tabs:{type:De(Array),default:()=>Xe([])}}),Ye="ElTabBar",Na=ce({name:Ye}),Pa=ce({...Na,props:Ma,setup(t,{expose:_}){const h=t,c=we(),f=Ne($e);f||Me(Ye,"<el-tabs><el-tab-bar /></el-tabs>");const e=Se("tabs"),u=r(),x=r(),o=()=>{let i=0,g=0;const n=["top","bottom"].includes(f.props.tabPosition)?"width":"height",l=n==="width"?"x":"y",k=l==="x"?"left":"top";return h.tabs.every(y=>{var m,z;const v=(z=(m=c.parent)==null?void 0:m.refs)==null?void 0:z[`tab-${y.uid}`];if(!v)return!1;if(!y.active)return!0;i=v[`offset${ee(k)}`],g=v[`client${ee(n)}`];const C=window.getComputedStyle(v);return n==="width"&&(g-=Number.parseFloat(C.paddingLeft)+Number.parseFloat(C.paddingRight),i+=Number.parseFloat(C.paddingLeft)),!1}),{[n]:`${g}px`,transform:`translate${ee(l)}(${i}px)`}},d=()=>x.value=o();return re(()=>h.tabs,async()=>{await J(),d()},{immediate:!0}),qe(u,()=>d()),_({ref:u,update:d}),(i,g)=>($(),A("div",{ref_key:"barRef",ref:u,class:Pe([O(e).e("active-bar"),O(e).is(O(f).props.tabPosition)]),style:Ze(x.value)},null,6))}});var Ba=Ge(Pa,[["__file","tab-bar.vue"]]);const Oa=Ce({panes:{type:De(Array),default:()=>Xe([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Ha={tabClick:(t,_,h)=>h instanceof Event,tabRemove:(t,_)=>_ instanceof Event},Ke="ElTabNav",ja=ce({name:Ke,props:Oa,emits:Ha,setup(t,{expose:_,emit:h}){const c=we(),f=Ne($e);f||Me(Ke,"<el-tabs><tab-nav /></el-tabs>");const e=Se("tabs"),u=la(),x=oa(),o=r(),d=r(),i=r(),g=r(),n=r(!1),l=r(0),k=r(!1),y=r(!0),m=fe(()=>["top","bottom"].includes(f.props.tabPosition)?"width":"height"),z=fe(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${l.value}px)`})),v=()=>{if(!o.value)return;const w=o.value[`offset${ee(m.value)}`],s=l.value;if(!s)return;const S=s>w?s-w:0;l.value=S},C=()=>{if(!o.value||!d.value)return;const w=d.value[`offset${ee(m.value)}`],s=o.value[`offset${ee(m.value)}`],S=l.value;if(w-S<=s)return;const N=w-S>s*2?S+s:w-s;l.value=N},E=async()=>{const w=d.value;if(!n.value||!i.value||!o.value||!w)return;await J();const s=i.value.querySelector(".is-active");if(!s)return;const S=o.value,N=["top","bottom"].includes(f.props.tabPosition),P=s.getBoundingClientRect(),R=S.getBoundingClientRect(),H=N?w.offsetWidth-R.width:w.offsetHeight-R.height,M=l.value;let V=M;N?(P.left<R.left&&(V=M-(R.left-P.left)),P.right>R.right&&(V=M+P.right-R.right)):(P.top<R.top&&(V=M-(R.top-P.top)),P.bottom>R.bottom&&(V=M+(P.bottom-R.bottom))),V=Math.max(V,0),l.value=Math.min(V,H)},X=()=>{var w;if(!d.value||!o.value)return;t.stretch&&((w=g.value)==null||w.update());const s=d.value[`offset${ee(m.value)}`],S=o.value[`offset${ee(m.value)}`],N=l.value;S<s?(n.value=n.value||{},n.value.prev=N,n.value.next=N+S<s,s-N<S&&(l.value=s-S)):(n.value=!1,N>0&&(l.value=0))},te=w=>{const s=w.code,{up:S,down:N,left:P,right:R}=ye;if(![S,N,P,R].includes(s))return;const H=Array.from(w.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),M=H.indexOf(w.target);let V;s===P||s===S?M===0?V=H.length-1:V=M-1:M<H.length-1?V=M+1:V=0,H[V].focus({preventScroll:!0}),H[V].click(),j()},j=()=>{y.value&&(k.value=!0)},le=()=>k.value=!1;return re(u,w=>{w==="hidden"?y.value=!1:w==="visible"&&setTimeout(()=>y.value=!0,50)}),re(x,w=>{w?setTimeout(()=>y.value=!0,50):y.value=!1}),qe(i,X),ue(()=>setTimeout(()=>E(),0)),Ea(()=>X()),_({scrollToActiveTab:E,removeFocus:le}),re(()=>t.panes,()=>c.update(),{flush:"post",deep:!0}),()=>{const w=n.value?[b("span",{class:[e.e("nav-prev"),e.is("disabled",!n.value.prev)],onClick:v},[b(ge,null,{default:()=>[b(sa,null,null)]})]),b("span",{class:[e.e("nav-next"),e.is("disabled",!n.value.next)],onClick:C},[b(ge,null,{default:()=>[b(na,null,null)]})])]:null,s=t.panes.map((S,N)=>{var P,R,H,M;const V=S.uid,oe=S.props.disabled,se=(R=(P=S.props.name)!=null?P:S.index)!=null?R:`${N}`,ve=!oe&&(S.isClosable||t.editable);S.index=`${N}`;const be=ve?b(ge,{class:"is-icon-close",onClick:p=>h("tabRemove",S,p)},{default:()=>[b(ra,null,null)]}):null,Te=((M=(H=S.slots).label)==null?void 0:M.call(H))||S.props.label,F=!oe&&S.active?0:-1;return b("div",{ref:`tab-${V}`,class:[e.e("item"),e.is(f.props.tabPosition),e.is("active",S.active),e.is("disabled",oe),e.is("closable",ve),e.is("focus",k.value)],id:`tab-${se}`,key:`tab-${V}`,"aria-controls":`pane-${se}`,role:"tab","aria-selected":S.active,tabindex:F,onFocus:()=>j(),onBlur:()=>le(),onClick:p=>{le(),h("tabClick",S,se,p)},onKeydown:p=>{ve&&(p.code===ye.delete||p.code===ye.backspace)&&h("tabRemove",S,p)}},[Te,be])});return b("div",{ref:i,class:[e.e("nav-wrap"),e.is("scrollable",!!n.value),e.is(f.props.tabPosition)]},[w,b("div",{class:e.e("nav-scroll"),ref:o},[b("div",{class:[e.e("nav"),e.is(f.props.tabPosition),e.is("stretch",t.stretch&&["top","bottom"].includes(f.props.tabPosition))],ref:d,style:z.value,role:"tablist",onKeydown:te},[t.type?null:b(Ba,{ref:g,tabs:[...t.panes]},null),s])])])}}}),La=Ce({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:De(Function),default:()=>!0},stretch:Boolean}),Ae=t=>Aa(t)||ca(t),Ia={[We]:t=>Ae(t),tabClick:(t,_)=>_ instanceof Event,tabChange:t=>Ae(t),edit:(t,_)=>["remove","add"].includes(_),tabRemove:t=>Ae(t),tabAdd:()=>!0},Ua=ce({name:"ElTabs",props:La,emits:Ia,setup(t,{emit:_,slots:h,expose:c}){var f;const e=Se("tabs"),u=fe(()=>["left","right"].includes(t.tabPosition)),{children:x,addChild:o,removeChild:d}=Da(we(),"ElTabPane"),i=r(),g=r((f=t.modelValue)!=null?f:"0"),n=async(m,z=!1)=>{var v,C,E;if(!(g.value===m||Ie(m)))try{await((v=t.beforeLeave)==null?void 0:v.call(t,m,g.value))!==!1&&(g.value=m,z&&(_(We,m),_("tabChange",m)),(E=(C=i.value)==null?void 0:C.removeFocus)==null||E.call(C))}catch{}},l=(m,z,v)=>{m.props.disabled||(n(z,!0),_("tabClick",m,v))},k=(m,z)=>{m.props.disabled||Ie(m.props.name)||(z.stopPropagation(),_("edit",m.props.name,"remove"),_("tabRemove",m.props.name))},y=()=>{_("edit",void 0,"add"),_("tabAdd")};return re(()=>t.modelValue,m=>n(m)),re(g,async()=>{var m;await J(),(m=i.value)==null||m.scrollToActiveTab()}),Fa($e,{props:t,currentName:g,registerPane:o,unregisterPane:d}),c({currentName:g}),()=>{const m=h["add-icon"],z=t.editable||t.addable?b("div",{class:[e.e("new-tab"),u.value&&e.e("new-tab-vertical")],tabindex:"0",onClick:y,onKeydown:E=>{E.code===ye.enter&&y()}},[m?Ve(h,"add-icon"):b(ge,{class:e.is("icon-plus")},{default:()=>[b(ia,null,null)]})]):null,v=b("div",{class:[e.e("header"),u.value&&e.e("header-vertical"),e.is(t.tabPosition)]},[b(ja,{ref:i,currentName:g.value,editable:t.editable,type:t.type,panes:x.value,stretch:t.stretch,onTabClick:l,onTabRemove:k},null),z]),C=b("div",{class:e.e("content")},[Ve(h,"default")]);return b("div",{class:[e.b(),e.m(t.tabPosition),{[e.m("card")]:t.type==="card",[e.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[v,C]:[C,v]])}}}),Ka=Ce({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),qa=["id","aria-hidden","aria-labelledby"],ea="ElTabPane",Ga=ce({name:ea}),Wa=ce({...Ga,props:Ka,setup(t){const _=t,h=we(),c=za(),f=Ne($e);f||Me(ea,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const e=Se("tab-pane"),u=r(),x=fe(()=>_.closable||f.props.closable),o=Ue(()=>{var l;return f.currentName.value===((l=_.name)!=null?l:u.value)}),d=r(o.value),i=fe(()=>{var l;return(l=_.name)!=null?l:u.value}),g=Ue(()=>!_.lazy||d.value||o.value);re(o,l=>{l&&(d.value=!0)});const n=Je({uid:h.uid,slots:c,props:_,paneName:i,active:o,index:u,isClosable:x});return ue(()=>{f.registerPane(n)}),Qe(()=>{f.unregisterPane(n.uid)}),(l,k)=>O(g)?U(($(),A("div",{key:0,id:`pane-${O(i)}`,class:Pe(O(e).b()),role:"tabpanel","aria-hidden":!O(o),"aria-labelledby":`tab-${O(i)}`},[Ve(l.$slots,"default")],10,qa)),[[q,O(o)]]):ie("v-if",!0)}});var aa=Ge(Wa,[["__file","tab-pane.vue"]]);const Za=ua(Ua,{TabPane:aa}),Ja=da(aa),Qa="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",Xa={class:""},ze={__name:"echart",setup(t,{expose:_}){const h=r(null);let c=null;return _({setRadarChart:(e,u,x)=>{let o=[];x?o=x:o=Object.keys(e[0][u]);let d=o.filter(n=>n!="model_name").map((n,l)=>({name:n,color:(l==0,"#000"),axisLabel:{show:l==0},min:-1,max:1})),i=[],g=[];for(let n=0;n<e.length;n++){let l=[];for(let k=0;k<d.length;k++)l.push(e[n][u][d[k].name]);i.push({name:e[n].model_name,value:l,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:e[n].color},itemStyle:{color:e[n].color}}),g.push(e[n].model_name)}c.setOption({legend:{data:g,textStyle:{fontSize:16,color:"black"}},radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function(n){return n.split("&").join(`&
`)}},triggerEvent:!0,indicator:d},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:i}]})}}),ue(async()=>{await J(),c=He(h.value);const e={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};c.setOption(e)}),(e,u)=>($(),A("div",null,[a("div",Xa,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:h,style:{width:"1000px",height:"850px",margin:"0 auto"}},null,512)])])])]))}},je=t=>(Be("data-v-44ea58fc"),t=t(),Oe(),t),Ya={class:""},et={class:"echart-list"},at=je(()=>a("p",null,"Schwartz Theory of Basic Values",-1)),tt=je(()=>a("p",null,"Moral Foundation Theory",-1)),lt=je(()=>a("p",null,"Diverse Safety Risks",-1)),ot={__name:"Visualization",setup(t,{expose:_}){const h=r(null),c=r(null),f=r(null);r(null);const e=r(null);return _({setRadarChart:(x,o)=>{e.value=x,h.value.setRadarChart(x,"Schwartz_data",o?o.Schwartz_data:null),c.value.setRadarChart(x,"MFT_data",o?o.MFT_data:null),f.value.setRadarChart(x,"Risk_data",o?o.Risk_data:null)}}),(x,o)=>($(),A("div",null,[a("div",Ya,[a("div",et,[a("div",null,[at,b(ze,{ref_key:"chartDom1",ref:h},null,512)]),a("div",null,[tt,b(ze,{ref_key:"chartDom2",ref:c},null,512)]),a("div",null,[lt,b(ze,{ref_key:"chartDom3",ref:f},null,512)])])])]))}},st=ke(ot,[["__scopeId","data-v-44ea58fc"]]),nt={class:"chart-box"},rt={class:"result-main"},it={class:"chart-main"},ct={class:"card-item"},ut={__name:"ValueSpace",setup(t,{expose:_}){var h=null,c=["#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361"];function f(o){console.log(o),u=He(e.value);const d="path://M1 11C6.52285 11 11 6.52285 11 1H13C13 6.52285 17.4772 11 23 11V13C17.4772 13 13 17.4772 13 23H11C11 17.4772 6.52285 13 1 13V11Z",i=[{type:"scatter3D",data:o.model,symbolSize:24,symbol:d,itemStyle:{opacity:1},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}];o.model.forEach((l,k)=>{const y=o.node.slice(k*30,k*30+30);i.push({name:l.name,type:"scatter3D",data:y,symbolSize:8,symbol:d,label:{show:!1,formatter:""},itemStyle:{color:c[k],opacity:1}})}),i.push({name:"Geocultural sphere",type:"scatter3D",data:o.culture,symbolSize:18,itemStyle:{opacity:1,color:"#1093FF"},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}),h=Object.assign([],i);const g={legend:{show:!0,width:"1100",textStyle:{color:"#fff"}},tooltip:{appendToBody:!0,className:"tooltip",hideDelay:1e3,enterable:!0,triggerOn:"click",backgroundColor:"#0A111F",borderColor:"#0A111F",textStyle:{color:"#fff"},formatter:function(l){return l.data.type=="node"?`<div style="padding: 6px 28px;">
                  <pre style="text-align: left; white-space: pre-line;">${l.data.name}</pre>
                </div>`:""}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{axisLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},axisPointer:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},viewControl:{autoRotate:!0,autoRotateSpeed:4,autoRotateAfterStill:1,distance:130},top:"6%"},series:i};u.setOption(g);var n=!1;u.on("click",function(l){const k=u.getOption().series;l.data.type=="model"&&(n=!0,k.forEach(y=>{y.name&&y.name!=l.name&&(y.itemStyle={opacity:.1}),y.name||y.data.forEach(m=>{m.name!=l.name&&(m.itemStyle={opacity:.1})})}),u.setOption({series:k}))}),u.on("mousemove",function(l){n&&(u.setOption({series:h}),n=!1)})}const e=r(null);let u=null;return _({setValueSpacesData:async o=>{const d=o.map(function(k){return k.model_name});console.log(d);const i=await _e.get("./data/value_space.json");console.log(i.data);let n=i.data;const l={culture:[],model:[],node:[]};l.culture=n.tsne_cultures.map((k,y)=>({name:n.tsne_culture_caption[y],value:k})),l.model=n.tsne_models.map((k,y)=>({name:n.tsne_model_caption[y],value:k,type:"model",itemStyle:{color:c[y],opacity:1}})),f(l)}}),ue(async()=>{await J()}),(o,d)=>($(),A("div",null,[a("div",nt,[a("div",rt,[a("div",it,[a("div",ct,[a("div",{class:"chart",style:{width:"1180px",height:"900px"},ref_key:"chartDom",ref:e},null,512)])])])])]))}},dt=ke(ut,[["__scopeId","data-v-5b49de02"]]),vt={class:""},pt={__name:"CulturalAlignment",setup(t,{expose:_}){const h=r(null);let c=null;const f=r(),e=r();let u=[];const x=async()=>_e.get("./data/value_sim_heatmap.json").then(d=>{f.value=d.data;const i={};for(let g=0;g<d.data.models.length;g++)i[d.data.models[g]]=d.data.cosine_sim_matrix[g];e.value=i}),o=d=>{let i=[];if(d){let y=[];for(var g=0;g<d.length;g++)y.push(e.value[d[g]]);i={cosine_sim_matrix:y,models:d,countries:u}}else i={cosine_sim_matrix:[f.value.cosine_sim_matrix[0]],models:[f.value.models[0]],countries:u};console.log("modelNameList",d,i);var n=[];for(let y=0;y<i.cosine_sim_matrix.length;y++)for(let m=0;m<i.countries.length;m++)n.push([y,m,i.cosine_sim_matrix[y][m]]);const l=i.models,k=n.map(function(y){return[y[1],y[0],(y[2]*100).toFixed(3)||"-"]});c.setOption({yAxis:{type:"category",data:l,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},series:[{name:"Punch Card",type:"heatmap",data:k,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})};return _({setHotChart:o}),ue(async()=>{await J(),await x(),u=f.value.countries;const d=f.value.models;c=He(h.value);const i={tooltip:{position:"top"},grid:{height:"50%",top:"10%",left:"2%",containLabel:!0},xAxis:{type:"category",data:u,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},yAxis:{type:"category",data:d,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"15%",color:["#690320","#E0785F","#eeeeee","#4795C3","#083669"],textStyle:{color:"#000"}}};c.setOption(i),o()}),(d,i)=>($(),A("div",null,[a("div",vt,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:h,style:{width:"1200px",height:"600px",margin:"0 auto"}},null,512)])])])]))}},de=t=>(Be("data-v-d9ca4a9d"),t=t(),Oe(),t),mt={class:"content-filter"},_t={class:"panel-content"},ft=de(()=>a("div",{class:"title"},"Applied filters",-1)),bt={class:"panel-row"},ht=de(()=>a("div",{class:"filter-name"},"Measurement Date",-1)),yt={class:"panel-tags"},gt={class:"title"},xt={class:"panel-row"},Ct=de(()=>a("div",{class:"filter-name"},"Schwartz Value Theory",-1)),St={class:"panel-tags"},wt={class:"panel-row"},kt=de(()=>a("div",{class:"filter-name"},"Moral Foundation Theory",-1)),$t={class:"panel-tags"},Tt={class:"panel-row"},Et=de(()=>a("div",{class:"filter-name"},"Diverse Safety Risks",-1)),Ft={class:"panel-tags"},At={class:"panel-row"},zt=de(()=>a("div",{class:"filter-name"},"LLMs' Unique Values",-1)),Rt={class:"panel-tags"},Vt={__name:"selectBox",emits:["fitterChange"],setup(t,{emit:_}){r();const h={multiple:!0},c=r([]),f=r(!1),e=r(null),u=r(0);let x=Je({});const o=[{value:0,label:"Universal"},{value:1,label:"Schwartz Value Theory",children:[{value:0,label:"Achievement"},{value:1,label:"Benevolence"},{value:2,label:"Conformity"},{value:3,label:"Hedonism"},{value:4,label:"Power"},{value:5,label:"Security"},{value:6,label:"Self-direction"},{value:7,label:"Stimulation"},{value:8,label:"Tradition"},{value:9,label:"Universalism"}]},{value:2,label:"Moral Foundation Theory",children:[{value:0,label:"Authority"},{value:1,label:"Care"},{value:2,label:"Fairness"},{value:3,label:"Loyalty"},{value:4,label:"Sanctity"}]},{value:3,label:"Diverse Safety Risks",children:[{value:0,label:"Misinformation Harms"},{value:1,label:"Representation & Toxicity Harms"},{value:2,label:"Socioeconomic Harms"},{value:3,label:"Human Autonomy & Integrity Harms"},{value:4,label:"Malicious Use"},{value:5,label:"Information & Safety Harms"}]},{value:4,label:"LLMs' Unique Values",children:[{value:0,label:"User-Oriented"},{value:1,label:"Self-Competent"},{value:2,label:"Idealistic"},{value:3,label:"Social"},{value:4,label:"Ethical"},{value:5,label:"Professional"}]}],d=r("2024/7"),i=[{value:"2024/7",label:"2024/7"}],g=v=>{c.value=c.value.filter(C=>C[0]!==v.parent||C[1]!==v.key),k(c.value)},n=v=>{J(()=>{z()})},l=_,k=v=>{console.log("handleChange",v),u.value=v.length,x={};const C=[];v.length>0&&v.forEach(E=>{x[E[0]]=x[E[0]]||[],(E[1]||E[1]==0)&&(x[E[0]].push({name:o[E[0]].children[E[1]].label,key:E[1],parent:E[0]}),C.push(o[E[0]].children[E[1]].label))}),l("fitterChange",x),J(()=>{z()})},y=()=>{c.value=[],k(c.value),J(()=>{z()})},m=()=>{f.value=!f.value,e.value.style.maxHeight?e.value.style.maxHeight=null:e.value.style.maxHeight=e.value.scrollHeight+"px"},z=()=>{f.value&&(e.value.style.maxHeight=e.value.scrollHeight+"px")};return(v,C)=>{const E=ma,X=ya,te=_a,j=ga,le=xa,w=Ca;return $(),A("div",null,[a("div",mt,[b(j,{modelValue:d.value,"onUpdate:modelValue":C[1]||(C[1]=s=>d.value=s),placeholder:"Measurement Date",onChange:n,style:{width:"200px"}},{default:B(()=>[b(te,{modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=s=>d.value=s),style:{width:"100%"}},{default:B(()=>[($(),A(L,null,K(i,s=>b(X,{key:s.value,label:s.label,value:s.value},{default:B(()=>[b(E,{value:s.value},{default:B(()=>[Y(I(s.label),1)]),_:2},1032,["value"])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),b(le,{class:"select",modelValue:c.value,"onUpdate:modelValue":C[2]||(C[2]=s=>c.value=s),options:o,props:h,style:{width:"240px","margin-left":"20px"},"show-all-levels":!1,"collapse-tags":!0,onChange:k,placeholder:"Measurement Dimension"},null,8,["modelValue"]),a("span",{class:"filter-btn",onClick:y},"Reset Filter"),a("span",{class:Pe(["show-filter",{"is-show":f.value}]),onClick:m},null,2)]),a("div",{class:"panel-box",ref_key:"panel",ref:e},[a("div",_t,[ft,U(a("div",bt,[ht,a("div",yt,[b(w,{type:"info"},{default:B(()=>[Y(I(d.value),1)]),_:1})])],512),[[q,d.value]]),a("div",gt,"Measurement Dimension("+I(u.value)+")",1),U(a("div",xt,[Ct,a("div",St,[($(!0),A(L,null,K(O(x)[1],s=>($(),ae(w,{key:s.key,closable:"",type:"info",onClose:S=>g(s)},{default:B(()=>[Y(I(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[q,O(x)[1]]]),U(a("div",wt,[kt,a("div",$t,[($(!0),A(L,null,K(O(x)[2],s=>($(),ae(w,{key:s.key,closable:"",type:"info",onClose:S=>g(s)},{default:B(()=>[Y(I(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[q,O(x)[2]]]),U(a("div",Tt,[Et,a("div",Ft,[($(!0),A(L,null,K(O(x)[3],s=>($(),ae(w,{key:s.key,closable:"",type:"info",onClose:S=>g(s)},{default:B(()=>[Y(I(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[q,O(x)[3]]]),U(a("div",At,[zt,a("div",Rt,[($(!0),A(L,null,K(O(x)[4],s=>($(),ae(w,{key:s.key,closable:"",type:"info",onClose:S=>g(s)},{default:B(()=>[Y(I(s.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[q,O(x)[4]]])])],512)])}}},Dt=ke(Vt,[["__scopeId","data-v-d9ca4a9d"]]),Q=t=>(Be("data-v-306a0c59"),t=t(),Oe(),t),Mt={class:"bg comparison-template main-container"},Nt={class:"title-content"},Pt=Q(()=>a("h2",null,"Compare Pool",-1)),Bt={class:"compare-model-list"},Ot=["onClick"],Ht={class:"name"},jt={class:"point-num"},Lt=Q(()=>a("span",{class:"point"},"points",-1)),It={class:"top-item-content"},Ut=Q(()=>a("span",{class:"type-icon"},null,-1)),Kt={class:"dev"},qt={class:"date"},Gt={key:0,class:"max-num-tip"},Wt=Q(()=>a("p",{style:{}},"The maximum number of comparisons supported is 5",-1)),Zt=[Wt],Jt=Q(()=>a("img",{src:Qa,alt:"add-model"},null,-1)),Qt=Q(()=>a("p",null,"Add",-1)),Xt=[Jt,Qt],Yt={class:"chart-box"},el={class:"chart-tab"},al={class:"chart-main",style:{}},tl={class:"table-box"},ll=Q(()=>a("h4",null,"Schwartz Theory of Basic Values",-1)),ol=Q(()=>a("h4",null,"Moral Foundations Theory",-1)),sl=Q(()=>a("h4",null,"Diverse Safety Risks",-1)),nl={__name:"Comparison",setup(t){const _=r(null),h=r(null),c=r(null);r(null);const f=["rgba(16, 147, 255, 1)","rgba(172, 210, 145, 1)","rgba(113, 134, 201, 1)","rgba(162, 123, 187, 1)","rgba(225, 149, 208, 1)"],e=[{name:"Table",index:0},{name:"Visualization",index:1},{name:"Cultural Alignment",index:2},{name:"Value Space",index:3}];var u=null,x=null,o=null,d=null,i=null,g=null,n=null;const l=r(),k=r([]),y=r(),m=r(!1),z=r([]),v=r([]),C=r([]),E=F=>_e.get(F),X=async()=>{try{_e.all([E("./data/models_info.json"),E("./data/Schwartz_scores.json"),E("./data/Schwartz_cases.json"),E("./data/Risk_scores.json"),E("./data/Risk_cases.json"),E("./data/MFT_scores.json"),E("./data/MFT_cases.json")]).then(_e.spread(function(F,p,G,W,D,pe,Ee){n=F.data.data,l.value=he(F.data.data),u=he(p.data.data),x=G.data.data,o=he(W.data.data),d=D.data.data,i=he(pe.data.data),g=Ee.data.data,be=va(u,o,i);for(let Z in l.value){const me=pa(Z,[],be);l.value[Z].points=(me*100).toFixed(3)}z.value=Object.keys(l.value),S.value=Object.keys(u[z.value[0]]),R.value=S.value,P.value=Object.keys(o[z.value[0]]),M.value=P.value,N.value=Object.keys(i[z.value[0]]),H.value=N.value,v.value.push(z.value[0]),w()}))}catch(F){console.error("Fetch error:",F)}},te=(F,p)=>p.label=="model_name"?F[p.label]:(F[p.label]*100).toFixed(3),j=r(0),le=F=>{console.log(F),j.value=F.index},w=()=>{m.value=!1,console.log(v.value),v.value.length>5&&alert("最多可添加5个model"),ve(),k.value=""},s=(F,p)=>{v.value.length<=1||(v.value.splice(p,1),w())},S=r([]),N=r([]),P=r([]),R=r([]),H=r([]),M=r([]),V=r([]),oe=r([]),se=r([]),ve=()=>{C.value=[],v.value.length>5&&alert("最多可添加5个model");var F=[];for(let p=0;p<v.value.length&&!(p>=5);p++){console.log(C.value);let G=!1;C.value.forEach(D=>{console.log("item",D,v.value[p]),D.model_name==v.value[p]&&(G=!0),F.push(D.color)});let W=f.filter(D=>F.every(pe=>pe!=D));if(!G){let D={};D.color=W[0],D.model_name=v.value[p],D.model_info=l.value[v.value[p]],D.Schwartz_data=u[v.value[p]],D.Risk_data=o[v.value[p]],D.MFT_data=i[v.value[p]],C.value.push(D)}}console.log("checkedModelDetailList.value",C.value),V.value=[],oe.value=[],se.value=[];for(let p=0;p<C.value.length;p++){let G={};G=u[v.value[p]],G.model_name=v.value[p],V.value.push(G);let W={};W=o[v.value[p]],W.model_name=v.value[p],se.value.push(W);let D={};D=i[v.value[p]],D.model_name=v.value[p],oe.value.push(D)}_.value.setRadarChart(C.value),h.value.setHotChart(v.value),console.log("checkedModelDetailList.value",C.value),c.value.setValueSpacesData(C.value)};Qe(()=>{}),Ra(),ue(()=>{X()});let be=null;const Te=F=>{console.log("filerData",F),F[1]?R.value=F[1].map(p=>p.name):R.value=S.value,F[2]?H.value=F[2].map(p=>p.name):H.value=N.value,F[3]?M.value=F[3].map(p=>p.name):M.value=P.value,_.value.setRadarChart(C.value,{Schwartz_data:R.value,MFT_data:H.value,Risk_data:M.value})};return(F,p)=>{const G=fa,W=wa,D=ka,pe=ba,Ee=Ja,Le=Za,Z=$a,me=Sa,ta=ha;return $(),A("div",Mt,[a("div",null,[a("div",Nt,[Pt,a("div",Bt,[a("ul",null,[($(!0),A(L,null,K(C.value,(T,ne)=>($(),A("li",{key:T,style:Ze({"border-color":T.color})},[a("span",{class:"close-comparison",onClick:rl=>s(T.model_name,ne)},null,8,Ot),a("p",Ht,I(T.model_name),1),a("p",jt,[Y(I(T.model_info.points),1),Lt]),a("div",It,[b(G,{effect:"customized",content:"Proprietary",placement:"top"},{default:B(()=>[Ut]),_:1}),a("span",Kt,I(T.model_info.developer),1),a("span",qt,I(T.model_info["release date"].split(" ")[0]),1)])],4))),128)),C.value.length>=5?($(),A("div",Gt,Zt)):ie("",!0),C.value.length<5?U(($(),A("div",{key:1,class:"add-model",onClick:p[0]||(p[0]=T=>m.value=!0)},Xt)),[[ta,y.value]]):ie("",!0),b(pe,{ref_key:"popoverRef",ref:y,visible:m.value,placement:"right-start",width:576,trigger:"click","virtual-triggering":"",persistent:""},{default:B(()=>[a("div",null,[b(D,{modelValue:v.value,"onUpdate:modelValue":p[1]||(p[1]=T=>v.value=T),max:5},{default:B(()=>[($(!0),A(L,null,K(z.value,T=>($(),ae(W,{key:T,value:T},{default:B(()=>[Y(I(T),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),a("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[a("button",{onClick:w},"Submit")])])]),_:1},8,["visible"])])])])]),a("div",Yt,[a("div",el,[b(Le,{modelValue:j.value,"onUpdate:modelValue":p[2]||(p[2]=T=>j.value=T),onTabClick:le},{default:B(()=>[($(),A(L,null,K(e,T=>b(Ee,{key:T.index,label:"   "+T.name+"   ",name:T.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),a("div",al,[U(b(Dt,{onFitterChange:Te},null,512),[[q,j.value==0||j.value==1]]),U(a("div",tl,[ll,b(me,{data:V.value,border:"",style:{width:"100%"}},{default:B(()=>[b(Z,{prop:"model_name",label:"Model"}),($(!0),A(L,null,K(R.value,(T,ne)=>($(),A(L,{key:ne},[T!="model_name"?($(),ae(Z,{key:0,prop:T,label:T,formatter:te},null,8,["prop","label"])):ie("",!0)],64))),128))]),_:1},8,["data"]),ol,b(me,{data:oe.value,border:"",style:{width:"100%"}},{default:B(()=>[b(Z,{prop:"model_name",label:"Model"}),($(!0),A(L,null,K(H.value,(T,ne)=>($(),A(L,{key:ne},[T!="model_name"?($(),ae(Z,{key:0,prop:T,label:T,formatter:te},null,8,["prop","label"])):ie("",!0)],64))),128))]),_:1},8,["data"]),sl,b(me,{data:se.value,border:"",style:{width:"100%"}},{default:B(()=>[b(Z,{prop:"model_name",label:"Model"}),($(!0),A(L,null,K(M.value,(T,ne)=>($(),A(L,{key:ne},[T!="model_name"?($(),ae(Z,{key:0,prop:T,label:T,formatter:te},null,8,["prop","label"])):ie("",!0)],64))),128))]),_:1},8,["data"])],512),[[q,j.value==0]]),U(a("div",null,[b(st,{ref_key:"VisualizationComponentProps",ref:_},null,512)],512),[[q,j.value==1]]),U(a("div",null,[b(dt,{ref_key:"ValueSpaceComponentProps",ref:c},null,512)],512),[[q,j.value==3]]),U(a("div",null,[b(pt,{ref_key:"CulturalAlignmentComponentProps",ref:h},null,512)],512),[[q,j.value==2]])])])])}}},fl=ke(nl,[["__scopeId","data-v-306a0c59"]]);export{fl as default};
